# Spec Tasks

## Tasks

- [x] 1. Phase 0 – Prototype Registry & Schema
  - [x] 1.1 Write tests for prototype schema validation and registry lookups
  - [x] 1.2 Implement JSON schema, validation CLI, and registry service
  - [x] 1.3 Integrate observability for malformed prototype reporting
  - [x] 1.4 Verify unit and integration tests pass

- [ ] 2. Phase 1 – Item Factory & Guarded Integration
  - [ ] 2.1 Write tests for item factory creation and mutation guard usage
  - [ ] 2.2 Implement item factory, inventory service updates, and component hooks
  - [ ] 2.3 Execute integration tests for equip/unequip flows
  - [ ] 2.4 Verify Playwright scenarios and regression suites pass

- [ ] 3. Phase 2 – Persistence & Database Provisioning
  - [ ] 3.1 Write tests for migrations, seed scripts, and CRUD operations
  - [ ] 3.2 Create Alembic migration and environment-specific SQLite databases
  - [ ] 3.3 Seed equip-slot coverage and validate deterministic IDs
  - [ ] 3.4 Verify all persistence tests and Playwright regressions pass

- [ ] 4. Phase 3 – Administrative Summon Command
  - [ ] 4.1 Write tests for summon command parsing, permissions, and stubs
  - [ ] 4.2 Implement summon handler, logging, and NPC placeholder responses
  - [ ] 4.3 Run integration and Playwright scenarios for summon flows
  - [ ] 4.4 Verify entire test suite passes

- [ ] 5. Phase 4 – Testing & Observability Harness
  - [ ] 5.1 Write tests for logging utilities and alert configuration
  - [ ] 5.2 Implement monitoring alerts, audit enhancements, and runbooks
  - [ ] 5.3 Execute smoke tests simulating alert conditions
  - [ ] 5.4 Verify global test suites and observability checks pass
