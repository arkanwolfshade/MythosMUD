{
  "openapi": "3.1.0",
  "info": {
    "title": "MythosMUD API",
    "description": "A Cthulhu Mythos-themed MUD game API with real-time communication via WebSocket. REST endpoints handle authentication, player management, rooms, containers, and game state. Contract documentation: docs/architecture/API_OPENAPI_SPECIFICATION.md",
    "license": {
      "name": "MIT",
      "identifier": "MIT"
    },
    "version": "0.1.0"
  },
  "paths": {
    "/v1/auth/register": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Register:Register",
        "operationId": "register_register_v1_auth_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorModel"
                },
                "examples": {
                  "REGISTER_USER_ALREADY_EXISTS": {
                    "summary": "A user with this email already exists.",
                    "value": {
                      "detail": "REGISTER_USER_ALREADY_EXISTS"
                    }
                  },
                  "REGISTER_INVALID_PASSWORD": {
                    "summary": "Password validation failed.",
                    "value": {
                      "detail": {
                        "code": "REGISTER_INVALID_PASSWORD",
                        "reason": "Password should beat least 3 characters"
                      }
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Login User",
        "description": "Authenticate a user and return an access token.\n\nThis endpoint validates user credentials and returns a JWT token\nfor authenticated requests.",
        "operationId": "login_user_v1_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/me": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Get Current User Info",
        "description": "Get current user information.\n\nThis endpoint returns information about the currently authenticated user.",
        "operationId": "get_current_user_info_v1_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Current User Info V1 Auth Me Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/auth/invites": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "List Invites",
        "description": "List all invite codes.\n\nThis endpoint returns all invite codes in the system.",
        "operationId": "list_invites_v1_auth_invites_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "type": "array",
                  "title": "Response List Invites V1 Auth Invites Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Create Invite",
        "description": "Create a new invite code.\n\nThis endpoint creates a new invite code for user registration.",
        "operationId": "create_invite_v1_auth_invites_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InviteRead"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/auth/jwt/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Auth:Jwt.Login",
        "operationId": "auth_jwt_login_v1_auth_jwt_login_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_auth_jwt_login_v1_auth_jwt_login_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BearerResponse"
                },
                "example": {
                  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiOTIyMWZmYzktNjQwZi00MzcyLTg2ZDMtY2U2NDJjYmE1NjAzIiwiYXVkIjoiZmFzdGFwaS11c2VyczphdXRoIiwiZXhwIjoxNTcxNTA0MTkzfQ.M10bjOe45I5Ncu_uXvOmVV8QxnL-nZfcH96U90JaocI",
                  "token_type": "bearer"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorModel"
                },
                "examples": {
                  "LOGIN_BAD_CREDENTIALS": {
                    "summary": "Bad credentials or the user is inactive.",
                    "value": {
                      "detail": "LOGIN_BAD_CREDENTIALS"
                    }
                  },
                  "LOGIN_USER_NOT_VERIFIED": {
                    "summary": "The user is not verified.",
                    "value": {
                      "detail": "LOGIN_USER_NOT_VERIFIED"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/jwt/logout": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Auth:Jwt.Logout",
        "operationId": "auth_jwt_logout_v1_auth_jwt_logout_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "401": {
            "description": "Missing token or inactive user."
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/users/me": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Users:Current User",
        "operationId": "users_current_user_v1_users_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "401": {
            "description": "Missing token or inactive user."
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "patch": {
        "tags": [
          "users"
        ],
        "summary": "Users:Patch Current User",
        "operationId": "users_patch_current_user_v1_users_me_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "401": {
            "description": "Missing token or inactive user."
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorModel"
                },
                "examples": {
                  "UPDATE_USER_EMAIL_ALREADY_EXISTS": {
                    "summary": "A user with this email already exists.",
                    "value": {
                      "detail": "UPDATE_USER_EMAIL_ALREADY_EXISTS"
                    }
                  },
                  "UPDATE_USER_INVALID_PASSWORD": {
                    "summary": "Password validation failed.",
                    "value": {
                      "detail": {
                        "code": "UPDATE_USER_INVALID_PASSWORD",
                        "reason": "Password should beat least 3 characters"
                      }
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/users/{id}": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Users:User",
        "operationId": "users_user_v1_users__id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "401": {
            "description": "Missing token or inactive user."
          },
          "403": {
            "description": "Not a superuser."
          },
          "404": {
            "description": "The user does not exist."
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "users"
        ],
        "summary": "Users:Patch User",
        "operationId": "users_patch_user_v1_users__id__patch",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "401": {
            "description": "Missing token or inactive user."
          },
          "403": {
            "description": "Not a superuser."
          },
          "404": {
            "description": "The user does not exist."
          },
          "400": {
            "content": {
              "application/json": {
                "examples": {
                  "UPDATE_USER_EMAIL_ALREADY_EXISTS": {
                    "summary": "A user with this email already exists.",
                    "value": {
                      "detail": "UPDATE_USER_EMAIL_ALREADY_EXISTS"
                    }
                  },
                  "UPDATE_USER_INVALID_PASSWORD": {
                    "summary": "Password validation failed.",
                    "value": {
                      "detail": {
                        "code": "UPDATE_USER_INVALID_PASSWORD",
                        "reason": "Password should beat least 3 characters"
                      }
                    }
                  }
                },
                "schema": {
                  "$ref": "#/components/schemas/ErrorModel"
                }
              }
            },
            "description": "Bad Request"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Users:Delete User",
        "operationId": "users_delete_user_v1_users__id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Missing token or inactive user."
          },
          "403": {
            "description": "Not a superuser."
          },
          "404": {
            "description": "The user does not exist."
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/command": {
      "post": {
        "tags": [
          "command"
        ],
        "summary": "Handle Command",
        "description": "Handle incoming HTTP command requests.",
        "operationId": "handle_command_v1_command_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommandRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/api/players/roll-stats": {
      "post": {
        "tags": [
          "players"
        ],
        "summary": "Roll Character Stats",
        "description": "Roll random stats for character creation.\n\nThis endpoint generates random character statistics using the specified method\nand validates them against class prerequisites if a required class is specified.\n\nRate limited to 10 requests per minute per user.",
        "operationId": "roll_character_stats_v1_api_players_roll_stats_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "max_attempts",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Max Attempts"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RollStatsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RollStatsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/players/create-character": {
      "post": {
        "tags": [
          "players"
        ],
        "summary": "Create Character With Stats",
        "description": "Create a new character with specific stats.\n\nThis endpoint creates a new player character with the provided stats\nand automatically logs the user in with the new character.\n\nRate limited to 5 creations per 5 minutes per user.",
        "operationId": "create_character_with_stats_v1_api_players_create_character_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCharacterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateCharacterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/api/players/validate-stats": {
      "post": {
        "tags": [
          "players"
        ],
        "summary": "Validate Character Stats",
        "description": "Validate character stats against class prerequisites.\n\nThis endpoint checks if the provided stats meet the requirements for a given class.",
        "operationId": "validate_character_stats_v1_api_players_validate_stats_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "class_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Class Name"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true,
                "title": "Stats"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidateStatsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/players/{player_id}/lucidity-loss": {
      "post": {
        "tags": [
          "players"
        ],
        "summary": "Apply Lucidity Loss",
        "description": "Apply lucidity loss to a player.",
        "operationId": "apply_lucidity_loss_v1_api_players__player_id__lucidity_loss_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "player_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Player Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LucidityLossRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EffectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/players/{player_id}/fear": {
      "post": {
        "tags": [
          "players"
        ],
        "summary": "Apply Fear",
        "description": "Apply fear to a player.",
        "operationId": "apply_fear_v1_api_players__player_id__fear_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "player_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Player Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FearRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EffectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/players/{player_id}/corruption": {
      "post": {
        "tags": [
          "players"
        ],
        "summary": "Apply Corruption",
        "description": "Apply corruption to a player.",
        "operationId": "apply_corruption_v1_api_players__player_id__corruption_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "player_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Player Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CorruptionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EffectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/players/{player_id}/occult-knowledge": {
      "post": {
        "tags": [
          "players"
        ],
        "summary": "Gain Occult Knowledge",
        "description": "Gain occult knowledge (with lucidity loss).",
        "operationId": "gain_occult_knowledge_v1_api_players__player_id__occult_knowledge_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "player_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Player Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OccultKnowledgeRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EffectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/players/{player_id}/heal": {
      "post": {
        "tags": [
          "players"
        ],
        "summary": "Heal Player",
        "description": "Heal a player's health.",
        "operationId": "heal_player_v1_api_players__player_id__heal_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "player_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Player Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HealRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EffectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/players/{player_id}/damage": {
      "post": {
        "tags": [
          "players"
        ],
        "summary": "Damage Player",
        "description": "Damage a player's health.",
        "operationId": "damage_player_v1_api_players__player_id__damage_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "player_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Player Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DamageRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EffectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/players/respawn-delirium": {
      "post": {
        "tags": [
          "players"
        ],
        "summary": "Respawn Player From Delirium",
        "description": "Respawn a delirious player at the Sanitarium with restored lucidity.\n\nThis endpoint handles player respawn after delirium, moving them to\nthe Sanitarium and restoring their lucidity to 10.\n\nRate limited to 1 request per 5 seconds per user.\n\nReturns:\n    dict: Respawn room data and updated player state\n\nRaises:\n    HTTPException(403): Player is not delirious\n    HTTPException(404): Player not found\n    HTTPException(500): Respawn failed",
        "operationId": "respawn_player_from_delirium_v1_api_players_respawn_delirium_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RespawnResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/api/players/respawn": {
      "post": {
        "tags": [
          "players"
        ],
        "summary": "Respawn Player",
        "description": "Respawn a dead player at their respawn location with full DP.\n\nThis endpoint handles player resurrection after death, moving them from\nlimbo to their designated respawn room and restoring their DP to 100.\n\nRate limited to 1 request per 5 seconds per user.\n\nReturns:\n    dict: Respawn room data and updated player state\n\nRaises:\n    HTTPException(403): Player is not dead\n    HTTPException(404): Player not found\n    HTTPException(500): Respawn failed",
        "operationId": "respawn_player_v1_api_players_respawn_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RespawnResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/api/players/": {
      "post": {
        "tags": [
          "players"
        ],
        "summary": "Create Player",
        "description": "Create a new player character.\n\n:param name: Display name for the new character.\n:param _request: FastAPI request (unused; kept for dependency injection).\n:param starting_room_id: Room ID where the character will spawn.\n:param current_user: Authenticated user (injected).\n:param player_service: Player service (injected).\n:return: The created player as PlayerRead.\n:raises LoggedHTTPException: On validation error (400) or auth failure (401).",
        "operationId": "create_player_v1_api_players__post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          },
          {
            "name": "starting_room_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "earth_arkhamcity_sanitarium_room_foyer_001",
              "title": "Starting Room Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlayerRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "players"
        ],
        "summary": "List Players",
        "description": "Get a list of all players.\n\n:param _request: FastAPI request (for error context).\n:param _current_user: Authenticated user if any (injected).\n:param player_service: Player service (injected).\n:return: List of all players as PlayerRead.\n:raises LoggedHTTPException: If not authenticated (401).",
        "operationId": "list_players_v1_api_players__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PlayerRead"
                  },
                  "title": "Response List Players V1 Api Players  Get"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/players/available-classes": {
      "get": {
        "tags": [
          "players"
        ],
        "summary": "Get Available Classes",
        "description": "Get information about all available character classes and their prerequisites.",
        "operationId": "get_available_classes_v1_api_players_available_classes_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AvailableClassesResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/api/players/characters": {
      "get": {
        "tags": [
          "players"
        ],
        "summary": "Get User Characters",
        "description": "Get all active characters for the current user.\n\nMULTI-CHARACTER: Returns list of active (non-deleted) characters for the authenticated user.\n\nReturns:\n    list[PlayerRead]: List of active character data",
        "operationId": "get_user_characters_v1_api_players_characters_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/PlayerRead"
                  },
                  "type": "array",
                  "title": "Response Get User Characters V1 Api Players Characters Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/api/players/{player_id}": {
      "get": {
        "tags": [
          "players"
        ],
        "summary": "Get Player",
        "description": "Get a specific player by ID.",
        "operationId": "get_player_v1_api_players__player_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "player_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Player Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlayerRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "players"
        ],
        "summary": "Delete Player",
        "description": "Delete a player character.",
        "operationId": "delete_player_v1_api_players__player_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "player_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Player Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/server__schemas__players__player__MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/players/name/{player_name}": {
      "get": {
        "tags": [
          "players"
        ],
        "summary": "Get Player By Name",
        "description": "Get a specific player by name.",
        "operationId": "get_player_by_name_v1_api_players_name__player_name__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "player_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Player Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlayerRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/players/characters/{character_id}": {
      "delete": {
        "tags": [
          "players"
        ],
        "summary": "Delete Character",
        "description": "Soft delete a character.\n\nMULTI-CHARACTER: Soft deletes a character (sets is_deleted=True) belonging to the current user.\nCharacter data is preserved but the character is hidden from selection.\n\nArgs:\n    character_id: Character ID (player_id) to delete\n\nReturns:\n    dict: Success message\n\nRaises:\n    HTTPException: If character not found or doesn't belong to user",
        "operationId": "delete_character_v1_api_players_characters__character_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteCharacterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/players/select-character": {
      "post": {
        "tags": [
          "players"
        ],
        "summary": "Select Character",
        "description": "Select a character to play.\n\nMULTI-CHARACTER: Validates that the character belongs to the user and is not deleted,\nthen returns character details for game connection.\n\nArgs:\n    request_data: Character selection request containing character_id\n\nReturns:\n    dict: Character details for game connection\n\nRaises:\n    HTTPException: If character not found, deleted, or doesn't belong to user",
        "operationId": "select_character_v1_api_players_select_character_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SelectCharacterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlayerRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/api/players/{player_id}/start-login-grace-period": {
      "post": {
        "tags": [
          "players"
        ],
        "summary": "Start Login Grace Period Endpoint",
        "description": "Start login grace period for a player after MOTD dismissal.\n\nThis endpoint is called when a player clicks through the MOTD screen\nto enter the game, starting their 10-second grace period of immunity.\n\nArgs:\n    player_id: The player's ID\n    request: FastAPI request object\n    current_user: Current authenticated user\n\nReturns:\n    dict: Success status and grace period details\n\nRaises:\n    HTTPException: If player not found, doesn't belong to user, or already in grace period",
        "operationId": "start_login_grace_period_endpoint_v1_api_players__player_id__start_login_grace_period_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "player_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Player Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginGracePeriodResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/professions/": {
      "get": {
        "tags": [
          "professions"
        ],
        "summary": "Get All Professions",
        "description": "Retrieve all available professions for character creation with caching.\n\n:param _request: FastAPI request (unused; kept for dependency injection).\n:param current_user: Authenticated user (injected).\n:param profession_service: Profession service (injected).\n:return: List of professions with descriptions and stat requirements.\n:raises LoggedHTTPException: If not authenticated (401) or on server error (500).",
        "operationId": "get_all_professions_v1_professions__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfessionListResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/professions/{profession_id}": {
      "get": {
        "tags": [
          "professions"
        ],
        "summary": "Get Profession By Id",
        "description": "Retrieve specific profession details by ID with caching.\n\n:param profession_id: ID of the profession to fetch.\n:param _request: FastAPI request (unused; kept for dependency injection).\n:param current_user: Authenticated user (injected).\n:param profession_service: Profession service (injected).\n:return: Profession details including description and stat requirements.\n:raises LoggedHTTPException: If not authenticated (401), not found (404), or error (500).",
        "operationId": "get_profession_by_id_v1_professions__profession_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profession_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Profession Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfessionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/game/status": {
      "get": {
        "tags": [
          "game"
        ],
        "summary": "Get Game Status",
        "description": "Get current game status and connection information.",
        "operationId": "get_game_status_v1_game_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GameStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/game/broadcast": {
      "post": {
        "tags": [
          "game"
        ],
        "summary": "Broadcast Message",
        "description": "Broadcast a message to all connected players (admin only).\n\nRequires superuser privileges. Returns 403 for non-admin users.",
        "operationId": "broadcast_message_v1_game_broadcast_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "message",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Message"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BroadcastMessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/game/time": {
      "get": {
        "tags": [
          "game"
        ],
        "summary": "Get Mythos Time",
        "description": "Return the current Mythos calendar metadata for HUD initialization.\n\nIn-memory only: chronicle and holiday_service use state loaded at startup; no blocking I/O.",
        "operationId": "get_mythos_time_v1_game_time_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MythosTimeResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/metrics": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "Get Movement Metrics",
        "description": "Get comprehensive movement system metrics.",
        "operationId": "get_movement_metrics_v1_monitoring_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/server__api__monitoring_models__MetricsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/integrity": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "Validate Room Integrity",
        "description": "Validate room data integrity and return results.",
        "operationId": "validate_room_integrity_v1_monitoring_integrity_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrityResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/alerts": {
      "get": {
        "tags": [
          "monitoring",
          "system"
        ],
        "summary": "Get System Monitoring Alerts",
        "description": "Get system alerts from monitoring dashboard.",
        "operationId": "get_system_monitoring_alerts_v1_monitoring_alerts_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemAlertsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/reset": {
      "post": {
        "tags": [
          "monitoring"
        ],
        "summary": "Reset Metrics",
        "description": "Reset all movement metrics (admin only).",
        "operationId": "reset_metrics_v1_monitoring_reset_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/performance-summary": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "Get Performance Summary",
        "description": "Get a human-readable performance summary.",
        "operationId": "get_performance_summary_v1_monitoring_performance_summary_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PerformanceSummaryResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/memory": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "Get Memory Stats",
        "description": "Get comprehensive memory and connection statistics.",
        "operationId": "get_memory_stats_v1_monitoring_memory_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MemoryStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/memory-alerts": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "Get Memory Alerts",
        "description": "Get memory-related alerts and warnings.",
        "operationId": "get_memory_alerts_v1_monitoring_memory_alerts_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MemoryAlertsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/memory/cleanup": {
      "post": {
        "tags": [
          "monitoring"
        ],
        "summary": "Force Memory Cleanup",
        "description": "Force immediate memory cleanup (admin only).",
        "operationId": "force_memory_cleanup_v1_monitoring_memory_cleanup_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/dual-connections": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "Get Dual Connection Stats",
        "description": "Get comprehensive dual connection statistics.",
        "operationId": "get_dual_connection_stats_v1_monitoring_dual_connections_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DualConnectionStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/performance": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "Get Performance Stats",
        "description": "Get connection performance statistics.",
        "operationId": "get_performance_stats_v1_monitoring_performance_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PerformanceStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/connection-health": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "Get Connection Health Stats",
        "description": "Get connection health statistics.",
        "operationId": "get_connection_health_stats_v1_monitoring_connection_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectionHealthStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/eventbus": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "Get Eventbus Metrics",
        "description": "Get EventBus metrics including subscriber counts and task information.\n\nReturns metrics for detecting memory leaks in the event subscription system:\n- Subscriber counts by event type (normal: stable, abnormal: growing unbounded)\n- Active task count in EventBus (normal: < 10, warning: > 50)\n- Subscription churn rate (normal: < 0.1, warning: > 0.2 indicates leaks)\n- Recent subscription/unsubscription activity\n\nThresholds:\n- subscription_churn_rate: Warning if > 0.1 (10% growth per hour)\n- active_task_count: Warning if > 50 active tasks\n- total_subscribers: Should remain stable, growing count indicates leaks",
        "operationId": "get_eventbus_metrics_v1_monitoring_eventbus_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EventBusMetricsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/caches": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "Get Cache Metrics",
        "description": "Get cache metrics including sizes, hit rates, and expiration rates.\n\nReturns metrics for detecting memory leaks in cache management:\n- Cache sizes for all caches (normal: within max_size, abnormal: exceeds max_size)\n- Cache hit rates (normal: > 0.7, low indicates cache issues)\n- Expired entry counts (indicates TTL working correctly)\n- Expiration rates (normal: varies by cache, high indicates TTL working)\n- Capacity utilization (normal: < 100%, warning: > 110% indicates leak)\n\nThresholds:\n- capacity_utilization: Warning if > 1.1 (110% of max_size)\n- cache_sizes: Warning if any cache exceeds its max_size\n- expiration_rates: High rates are normal for TTL caches, low rates with high sizes indicate leaks",
        "operationId": "get_cache_metrics_v1_monitoring_caches_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CacheMetricsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/tasks": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "Get Task Metrics",
        "description": "Get TaskRegistry metrics including task counts and lifecycle information.\n\nReturns metrics for detecting memory leaks in task management:\n- Active task count (normal: stable, abnormal: growing unbounded)\n- Task breakdown by type and service\n- Task creation and completion rates (should be balanced)\n- Orphaned task count (normal: 0, warning: > 5)\n\nThresholds:\n- task_growth_rate: Warning if > 0.2 (20% growth per hour)\n- orphaned_task_count: Warning if > 5\n- active_task_count: Should remain relatively stable, growing count indicates leaks",
        "operationId": "get_task_metrics_v1_monitoring_tasks_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskMetricsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/memory-leaks": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "Get Memory Leak Metrics",
        "description": "Get comprehensive memory leak metrics from all sources.\n\nReturns aggregated metrics from all monitoring sources for comprehensive\nmemory leak detection. Includes connection, event, cache, task, and NATS metrics\nalong with growth rate calculations and automated alerts.\n\nThis endpoint provides:\n- Connection metrics (websockets, metadata, orphaned connections)\n- Event system metrics (subscribers, tasks, churn rates)\n- Cache metrics (sizes, expiration, utilization)\n- Task metrics (counts, lifecycle, orphaned tasks)\n- NATS metrics (subscriptions, cleanup status)\n- Growth rates (calculated from historical data)\n- Automated alerts (based on configured thresholds)\n\nThresholds (configured in MemoryLeakMetricsCollector):\n- closed_websockets_max: 5000 (warning), 10000 (critical)\n- subscriber_growth_rate: 0.1 (10% per period)\n- cache_size_limit_factor: 1.1 (110% of max_size)\n- task_growth_rate: 0.2 (20% per period)\n\nExample normal values:\n- closed_websockets_count: < 1000\n- active_to_player_ratio: 0.8-1.2\n- subscription_churn_rate: < 0.1\n- capacity_utilization: < 1.0\n\nExample abnormal values (indicate potential leaks):\n- closed_websockets_count: > 5000\n- active_to_player_ratio: > 2.0\n- subscription_churn_rate: > 0.2\n- capacity_utilization: > 1.1\n- orphaned_connections: > 10\n- orphaned_task_count: > 5",
        "operationId": "get_memory_leak_metrics_v1_monitoring_memory_leaks_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MemoryLeakMetricsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/health": {
      "get": {
        "tags": [
          "monitoring"
        ],
        "summary": "Get Health Status",
        "description": "Get comprehensive system health status with timeout protection.\n\nThis endpoint validates all critical components:\n- Server metrics (CPU, memory, uptime)\n- Database connectivity (actual query validation)\n- Connection manager health\n- Event loop health\n\nReturns appropriate HTTP status codes:\n- 200 OK: System healthy or degraded (status in response body)\n- 503 Service Unavailable: System unhealthy\n- 500 Internal Server Error: Health check itself failed",
        "operationId": "get_health_status_v1_monitoring_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/health": {
      "get": {
        "tags": [
          "monitoring",
          "system"
        ],
        "summary": "Get System Health",
        "description": "Enhanced health check endpoint using monitoring dashboard.",
        "operationId": "get_system_health_v1_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemHealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/metrics": {
      "get": {
        "tags": [
          "metrics"
        ],
        "summary": "Get Metrics",
        "description": "Get comprehensive system metrics.\n\nReturns metrics about NATS message delivery, circuit breaker state,\ndead letter queue, and performance statistics.\n\nRequires admin authentication.\n\nReturns:\n    Dictionary containing all metrics\n\nAI: For monitoring dashboards and alerting systems.",
        "operationId": "get_metrics_v1_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MetricsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/monitoring/summary": {
      "get": {
        "tags": [
          "monitoring",
          "system"
        ],
        "summary": "Get System Monitoring Summary",
        "description": "Get comprehensive monitoring summary.",
        "operationId": "get_system_monitoring_summary_v1_monitoring_summary_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemMonitoringSummaryResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/monitoring/alerts/{alert_id}/resolve": {
      "post": {
        "tags": [
          "monitoring",
          "system"
        ],
        "summary": "Resolve System Alert",
        "description": "Resolve a system alert.",
        "operationId": "resolve_system_alert_v1_monitoring_alerts__alert_id__resolve_post",
        "parameters": [
          {
            "name": "alert_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Alert Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AlertResolveResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/metrics/summary": {
      "get": {
        "tags": [
          "metrics"
        ],
        "summary": "Get Metrics Summary",
        "description": "Get concise metrics summary.\n\nReturns high-level health indicators without detailed breakdowns.\nFaster than full metrics endpoint.\n\nRequires admin authentication.\n\nReturns:\n    Dictionary with summary metrics\n\nAI: For quick health checks and status dashboards.",
        "operationId": "get_metrics_summary_v1_metrics_summary_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MetricsSummaryResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/metrics/reset": {
      "post": {
        "tags": [
          "metrics"
        ],
        "summary": "Reset Metrics",
        "description": "Reset metrics counters.\n\nClears all metrics counters. Use after maintenance or deployment.\n\nRequires admin authentication.\n\nReturns:\n    Confirmation message\n\nAI: Use sparingly - metrics history is valuable.",
        "operationId": "reset_metrics_v1_metrics_reset_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusMessageResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/metrics/dlq": {
      "get": {
        "tags": [
          "metrics"
        ],
        "summary": "Get Dlq Messages",
        "description": "Get messages from dead letter queue.\n\nReturns failed messages for manual inspection and potential replay.\n\nArgs:\n    limit: Maximum number of messages to return\n\nRequires admin authentication.\n\nReturns:\n    Dictionary with DLQ messages and statistics\n\nAI: For incident investigation and manual message replay.",
        "operationId": "get_dlq_messages_v1_metrics_dlq_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DLQMessagesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/metrics/circuit-breaker/reset": {
      "post": {
        "tags": [
          "metrics"
        ],
        "summary": "Reset Circuit Breaker",
        "description": "Manually reset circuit breaker to CLOSED state.\n\nUse this to force the circuit closed after manual service recovery.\n\nRequires admin authentication.\n\nReturns:\n    Confirmation message\n\nAI: Emergency admin action - use when you know service is healthy.",
        "operationId": "reset_circuit_breaker_v1_metrics_circuit_breaker_reset_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusMessageResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/metrics/dlq/{filepath}/replay": {
      "post": {
        "tags": [
          "metrics"
        ],
        "summary": "Replay Dlq Message",
        "description": "Replay a message from the Dead Letter Queue.\n\nAttempts to reprocess a failed message. If successful, removes it from DLQ.\n\nArgs:\n    filepath: Path to the DLQ file (relative to DLQ storage)\n\nRequires admin authentication.\n\nReturns:\n    Confirmation message with replay status\n\nAI: For manual incident recovery - use after fixing underlying issue.",
        "operationId": "replay_dlq_message_v1_metrics_dlq__filepath__replay_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "filepath",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filepath"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DLQReplayResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/metrics/dlq/{filepath}": {
      "delete": {
        "tags": [
          "metrics"
        ],
        "summary": "Delete Dlq Message",
        "description": "Delete a message from the Dead Letter Queue without replaying.\n\nUse this to discard a message that is not worth replaying.\n\nArgs:\n    filepath: Path to the DLQ file (relative to DLQ storage)\n\nRequires admin authentication.\n\nReturns:\n    Confirmation message\n\nAI: For discarding permanently failed or invalid messages.",
        "operationId": "delete_dlq_message_v1_metrics_dlq__filepath__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "filepath",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filepath"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusMessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/connections/{player_id}": {
      "get": {
        "tags": [
          "realtime"
        ],
        "summary": "Get Player Connections",
        "description": "Get connection information for a player.\nReturns detailed connection metadata including session information.",
        "operationId": "get_player_connections_v1_api_connections__player_id__get",
        "parameters": [
          {
            "name": "player_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Player Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlayerConnectionsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/connections/{player_id}/session": {
      "post": {
        "tags": [
          "realtime"
        ],
        "summary": "Handle New Game Session",
        "description": "Handle a new game session for a player.\nThis will disconnect existing connections and establish a new session.",
        "operationId": "handle_new_game_session_v1_api_connections__player_id__session_post",
        "parameters": [
          {
            "name": "player_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Player Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NewGameSessionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/connections/stats": {
      "get": {
        "tags": [
          "realtime"
        ],
        "summary": "Get Connection Statistics",
        "description": "Get comprehensive connection statistics.\nReturns detailed statistics about all connections, sessions, and presence.",
        "operationId": "get_connection_statistics_v1_api_connections_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectionStatisticsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/rooms/list": {
      "get": {
        "tags": [
          "rooms"
        ],
        "summary": "List Rooms",
        "description": "List rooms filtered by plane, zone, and optionally sub_zone.\n\nReturns room data in the same format as the single room endpoint,\nincluding map_x and map_y coordinates when available in the database.\n\nIf filter_explored is True and a user is authenticated:\n- Admin users: See all rooms (filtering is skipped)\n- Non-admin users: Only see rooms that the player has explored",
        "operationId": "list_rooms_v1_api_rooms_list_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "plane",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Plane name (required)",
              "title": "Plane"
            },
            "description": "Plane name (required)"
          },
          {
            "name": "zone",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Zone name (required)",
              "title": "Zone"
            },
            "description": "Zone name (required)"
          },
          {
            "name": "sub_zone",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional sub-zone name for filtering",
              "title": "Sub Zone"
            },
            "description": "Optional sub-zone name for filtering"
          },
          {
            "name": "include_exits",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Whether to include exit data in response",
              "default": true,
              "title": "Include Exits"
            },
            "description": "Whether to include exit data in response"
          },
          {
            "name": "filter_explored",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Filter to only show explored rooms (requires authentication)",
              "default": false,
              "title": "Filter Explored"
            },
            "description": "Filter to only show explored rooms (requires authentication)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoomListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/rooms/{room_id}/position": {
      "post": {
        "tags": [
          "rooms"
        ],
        "summary": "Update Room Position",
        "description": "Update room map coordinates (admin only).\n\nUpdates the map_x and map_y columns in the rooms table for the specified room.\nRequires admin privileges.",
        "operationId": "update_room_position_v1_api_rooms__room_id__position_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "room_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Room Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoomPositionUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoomPositionUpdateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/rooms/{room_id}": {
      "get": {
        "tags": [
          "rooms"
        ],
        "summary": "Get Room",
        "description": "Get room information by room ID.",
        "operationId": "get_room_v1_api_rooms__room_id__get",
        "parameters": [
          {
            "name": "room_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Room Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoomResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/maps/ascii": {
      "get": {
        "tags": [
          "maps"
        ],
        "summary": "Get Ascii Map",
        "description": "Get ASCII map for a zone/subzone.\n\nReturns HTML string with ASCII map rendered. For authenticated players,\nonly shows explored rooms. Admins see all rooms.",
        "operationId": "get_ascii_map_v1_api_maps_ascii_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "plane",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Plane name",
              "title": "Plane"
            },
            "description": "Plane name"
          },
          {
            "name": "zone",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Zone name",
              "title": "Zone"
            },
            "description": "Zone name"
          },
          {
            "name": "sub_zone",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Sub-zone name",
              "title": "Sub Zone"
            },
            "description": "Sub-zone name"
          },
          {
            "name": "viewport_x",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Viewport X offset",
              "default": 0,
              "title": "Viewport X"
            },
            "description": "Viewport X offset"
          },
          {
            "name": "viewport_y",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Viewport Y offset",
              "default": 0,
              "title": "Viewport Y"
            },
            "description": "Viewport Y offset"
          },
          {
            "name": "viewport_width",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Viewport width in characters",
              "default": 80,
              "title": "Viewport Width"
            },
            "description": "Viewport width in characters"
          },
          {
            "name": "viewport_height",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Viewport height in lines",
              "default": 24,
              "title": "Viewport Height"
            },
            "description": "Viewport height in lines"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AsciiMapResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/maps/ascii/minimap": {
      "get": {
        "tags": [
          "maps"
        ],
        "summary": "Get Ascii Minimap",
        "description": "Get ASCII minimap centered on player.\n\nReturns a small ASCII map showing area around the player's current room.",
        "operationId": "get_ascii_minimap_v1_api_maps_ascii_minimap_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "plane",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Plane name",
              "title": "Plane"
            },
            "description": "Plane name"
          },
          {
            "name": "zone",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Zone name",
              "title": "Zone"
            },
            "description": "Zone name"
          },
          {
            "name": "sub_zone",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Sub-zone name",
              "title": "Sub Zone"
            },
            "description": "Sub-zone name"
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Minimap size in characters (e.g., 5 means 5x5 grid)",
              "default": 5,
              "title": "Size"
            },
            "description": "Minimap size in characters (e.g., 5 means 5x5 grid)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AsciiMinimapResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/maps/coordinates/recalculate": {
      "post": {
        "tags": [
          "maps"
        ],
        "summary": "Recalculate Coordinates",
        "description": "Trigger coordinate recalculation for a zone/subzone (admin only).\n\nReturns list of conflicts if any.",
        "operationId": "recalculate_coordinates_v1_api_maps_coordinates_recalculate_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "plane",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Plane name",
              "title": "Plane"
            },
            "description": "Plane name"
          },
          {
            "name": "zone",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Zone name",
              "title": "Zone"
            },
            "description": "Zone name"
          },
          {
            "name": "sub_zone",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Sub-zone name",
              "title": "Sub Zone"
            },
            "description": "Sub-zone name"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CoordinateRecalculationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/maps/rooms/{room_id}/origin": {
      "post": {
        "tags": [
          "maps"
        ],
        "summary": "Set Map Origin",
        "description": "Set a room as the map origin for its zone/subzone (admin only).\n\nTriggers coordinate recalculation.",
        "operationId": "set_map_origin_v1_api_maps_rooms__room_id__origin_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "room_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Room Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetOriginRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MapOriginSetResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/containers/open": {
      "post": {
        "tags": [
          "containers"
        ],
        "summary": "Open Container",
        "description": "Open a container for interaction.\n\nInitiates interaction with a container in the player's current room or inventory.\nReturns container data and a mutation token for subsequent operations.\n\nRate limited to 20 requests per 60 seconds per player.\n\nArgs:\n    request_data: OpenContainerRequest with container_id\n    request: FastAPI Request object\n    current_user: Current authenticated user\n    persistence: Persistence layer instance\n\nReturns:\n    dict containing container data and mutation_token\n\nRaises:\n    HTTPException(404): Container not found\n    HTTPException(403): Access denied\n    HTTPException(409): Container already open\n    HTTPException(423): Container is locked\n    HTTPException(429): Rate limit exceeded",
        "operationId": "open_container_v1_api_containers_open_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenContainerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContainerOpenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/api/containers/transfer": {
      "post": {
        "tags": [
          "containers"
        ],
        "summary": "Transfer Items",
        "description": "Transfer items between container and player inventory.\n\nMoves items bidirectionally between container and player inventory.\nRequires a valid mutation token from open_container.\n\nRate limited to 20 requests per 60 seconds per player.\n\nArgs:\n    request_data: TransferContainerRequest with container_id, mutation_token, direction, stack, quantity\n    request: FastAPI Request object\n    current_user: Current authenticated user\n    persistence: Persistence layer instance\n\nReturns:\n    dict containing updated container and player_inventory\n\nRaises:\n    HTTPException(400): Invalid stack or token\n    HTTPException(403): Access denied\n    HTTPException(409): Capacity exceeded\n    HTTPException(412): Stale mutation token\n    HTTPException(429): Rate limit exceeded",
        "operationId": "transfer_items_v1_api_containers_transfer_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TransferContainerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContainerTransferResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/api/containers/close": {
      "post": {
        "tags": [
          "containers"
        ],
        "summary": "Close Container",
        "description": "Close a container and release the mutation guard.\n\nReleases the mutation guard and closes the container UI.\nRequires a valid mutation token from open_container.\n\nRate limited to 20 requests per 60 seconds per player.\n\nArgs:\n    request_data: CloseContainerRequest with container_id and mutation_token\n    request: FastAPI Request object\n    current_user: Current authenticated user\n    persistence: Persistence layer instance\n\nReturns:\n    dict with status=\"closed\"\n\nRaises:\n    HTTPException(400): Invalid token\n    HTTPException(404): Container not found\n    HTTPException(429): Rate limit exceeded",
        "operationId": "close_container_v1_api_containers_close_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CloseContainerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContainerCloseResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/api/containers/loot-all": {
      "post": {
        "tags": [
          "containers"
        ],
        "summary": "Loot All Items",
        "description": "Loot all eligible items from a container.\n\nConvenience action to move all eligible stacks from container to player inventory,\nsubject to capacity constraints. Requires a valid mutation token from open_container.\n\nRate limited to 20 requests per 60 seconds per player.\n\nArgs:\n    request_data: LootAllRequest with container_id and mutation_token\n    request: FastAPI Request object\n    current_user: Current authenticated user\n    persistence: Persistence layer instance\n\nReturns:\n    dict containing updated container and player_inventory\n\nRaises:\n    HTTPException(403): Access denied\n    HTTPException(409): Capacity exceeded\n    HTTPException(423): Container is locked\n    HTTPException(429): Rate limit exceeded",
        "operationId": "loot_all_items_v1_api_containers_loot_all_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LootAllRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContainerLootAllResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/admin/npc/definitions": {
      "get": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Get Npc Definitions",
        "description": "Get all NPC definitions.",
        "operationId": "get_npc_definitions_v1_admin_npc_definitions_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/NPCDefinitionResponse"
                  },
                  "type": "array",
                  "title": "Response Get Npc Definitions V1 Admin Npc Definitions Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Create Npc Definition",
        "description": "Create a new NPC definition.",
        "operationId": "create_npc_definition_v1_admin_npc_definitions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NPCDefinitionCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NPCDefinitionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/admin/npc/definitions/{definition_id}": {
      "get": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Get Npc Definition",
        "description": "Get a specific NPC definition by ID.",
        "operationId": "get_npc_definition_v1_admin_npc_definitions__definition_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "definition_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Definition Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NPCDefinitionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Update Npc Definition",
        "description": "Update an existing NPC definition.",
        "operationId": "update_npc_definition_v1_admin_npc_definitions__definition_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "definition_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Definition Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NPCDefinitionUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NPCDefinitionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Delete Npc Definition",
        "description": "Delete an NPC definition.",
        "operationId": "delete_npc_definition_v1_admin_npc_definitions__definition_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "definition_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Definition Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/npc/instances": {
      "get": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Get Npc Instances",
        "description": "Get all active NPC instances.",
        "operationId": "get_npc_instances_v1_admin_npc_instances_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "type": "array",
                  "title": "Response Get Npc Instances V1 Admin Npc Instances Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/admin/npc/instances/spawn": {
      "post": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Spawn Npc Instance",
        "description": "Spawn a new NPC instance.",
        "operationId": "spawn_npc_instance_v1_admin_npc_instances_spawn_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NPCSpawnRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NPCSpawnResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/admin/npc/instances/{npc_id}": {
      "delete": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Despawn Npc Instance",
        "description": "Despawn an NPC instance.",
        "operationId": "despawn_npc_instance_v1_admin_npc_instances__npc_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "npc_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Npc Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NPCDespawnResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/npc/instances/{npc_id}/move": {
      "put": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Move Npc Instance",
        "description": "Move an NPC instance to a different room.",
        "operationId": "move_npc_instance_v1_admin_npc_instances__npc_id__move_put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "npc_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Npc Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NPCMoveRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NPCMoveResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/npc/instances/{npc_id}/stats": {
      "get": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Get Npc Stats",
        "description": "Get stats for a specific NPC instance.",
        "operationId": "get_npc_stats_v1_admin_npc_instances__npc_id__stats_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "npc_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Npc Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NPCStatsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/npc/population": {
      "get": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Get Npc Population Stats",
        "description": "Get NPC population statistics.",
        "operationId": "get_npc_population_stats_v1_admin_npc_population_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NPCPopulationStatsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/admin/npc/zones": {
      "get": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Get Npc Zone Stats",
        "description": "Get NPC zone statistics.",
        "operationId": "get_npc_zone_stats_v1_admin_npc_zones_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NPCZoneStatsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/admin/npc/status": {
      "get": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Get Npc System Status",
        "description": "Get NPC system status.",
        "operationId": "get_npc_system_status_v1_admin_npc_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NPCSystemStatusResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/admin/npc/spawn-rules": {
      "get": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Get Npc Spawn Rules",
        "description": "Get all NPC spawn rules.",
        "operationId": "get_npc_spawn_rules_v1_admin_npc_spawn_rules_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/NPCSpawnRuleResponse"
                  },
                  "type": "array",
                  "title": "Response Get Npc Spawn Rules V1 Admin Npc Spawn Rules Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Create Npc Spawn Rule",
        "description": "Create a new NPC spawn rule.",
        "operationId": "create_npc_spawn_rule_v1_admin_npc_spawn_rules_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NPCSpawnRuleCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NPCSpawnRuleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/admin/npc/spawn-rules/{spawn_rule_id}": {
      "delete": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Delete Npc Spawn Rule",
        "description": "Delete an NPC spawn rule.",
        "operationId": "delete_npc_spawn_rule_v1_admin_npc_spawn_rules__spawn_rule_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "spawn_rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Spawn Rule Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/npc/admin/sessions": {
      "get": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Get Admin Sessions",
        "description": "Get active admin sessions.",
        "operationId": "get_admin_sessions_v1_admin_npc_admin_sessions_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminSessionsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/admin/npc/admin/audit-log": {
      "get": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Get Admin Audit Log",
        "description": "Get admin audit log.",
        "operationId": "get_admin_audit_log_v1_admin_npc_admin_audit_log_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminAuditLogResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/npc/admin/cleanup-sessions": {
      "post": {
        "tags": [
          "admin",
          "npc"
        ],
        "summary": "Cleanup Admin Sessions",
        "description": "Clean up expired admin sessions.",
        "operationId": "cleanup_admin_sessions_v1_admin_npc_admin_cleanup_sessions_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminCleanupSessionsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/api/admin/nats/subjects/health": {
      "get": {
        "tags": [
          "admin",
          "nats",
          "subjects"
        ],
        "summary": "Get Subject Statistics",
        "description": "Get NATS subject management statistics and health status.\n\nThis endpoint provides observability into subject pattern usage,\nvalidation performance, and cache efficiency.\n\nReturns:\n    Subject management statistics including metrics and configuration\n\nRaises:\n    LoggedHTTPException: If metrics retrieval fails\n\nAI: Public health endpoint - no admin required for monitoring.\nAI: Provides performance metrics for observability and alerting.",
        "operationId": "get_subject_statistics_v1_api_admin_nats_subjects_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubjectStatisticsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/api/admin/nats/subjects/validate": {
      "post": {
        "tags": [
          "admin",
          "nats",
          "subjects"
        ],
        "summary": "Validate Subject",
        "description": "Validate a NATS subject against registered patterns.\n\nThis endpoint allows administrators to test subject validation\nand verify subject formatting before use.\n\nArgs:\n    request: Subject validation request\n    current_user: Current authenticated admin user\n    subject_manager: Subject manager dependency\n\nReturns:\n    Validation result with timing information\n\nRaises:\n    LoggedHTTPException: If validation fails or errors occur\n\nAI: Admin-only endpoint for subject validation testing.\nAI: Records validation time for performance monitoring.",
        "operationId": "validate_subject_v1_api_admin_nats_subjects_validate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ValidateSubjectRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidateSubjectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/v1/api/admin/nats/subjects/patterns": {
      "get": {
        "tags": [
          "admin",
          "nats",
          "subjects"
        ],
        "summary": "Get Patterns",
        "description": "Get all registered subject patterns.\n\nThis endpoint allows administrators to view all available\nsubject patterns and their configurations.\n\nArgs:\n    current_user: Current authenticated admin user\n    subject_manager: Subject manager dependency\n\nReturns:\n    All registered patterns with metadata\n\nRaises:\n    LoggedHTTPException: If pattern retrieval fails\n\nAI: Admin-only endpoint for pattern introspection.\nAI: Useful for documentation and debugging.",
        "operationId": "get_patterns_v1_api_admin_nats_subjects_patterns_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatternsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "admin",
          "nats",
          "subjects"
        ],
        "summary": "Register Pattern",
        "description": "Register a new subject pattern.\n\nThis endpoint allows administrators to dynamically register\nnew subject patterns without code changes.\n\nArgs:\n    request: Pattern registration request\n    current_user: Current authenticated admin user\n    subject_manager: Subject manager dependency\n\nReturns:\n    Registration success confirmation\n\nRaises:\n    LoggedHTTPException: If registration fails or pattern is invalid\n\nAI: Admin-only endpoint for dynamic pattern registration.\nAI: Validates pattern format before registration.",
        "operationId": "register_pattern_v1_api_admin_nats_subjects_patterns_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterPatternRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegisterPatternResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "AdminAuditLogResponse": {
        "properties": {
          "audit_log": {
            "items": {
              "$ref": "#/components/schemas/AuditLogEntry"
            },
            "type": "array",
            "title": "Audit Log",
            "description": "List of audit log entries"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of audit log entries"
          }
        },
        "type": "object",
        "required": [
          "audit_log",
          "count"
        ],
        "title": "AdminAuditLogResponse",
        "description": "Response model for admin audit log.",
        "example": {
          "audit_log": [
            {
              "action": "spawn_npc",
              "timestamp": "2024-01-01T00:00:00Z",
              "user_id": "123"
            }
          ],
          "count": 1
        }
      },
      "AdminCleanupSessionsResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Cleanup status message"
          },
          "cleaned_count": {
            "type": "integer",
            "title": "Cleaned Count",
            "description": "Number of sessions cleaned up"
          }
        },
        "type": "object",
        "required": [
          "message",
          "cleaned_count"
        ],
        "title": "AdminCleanupSessionsResponse",
        "description": "Response model for admin session cleanup.",
        "example": {
          "cleaned_count": 5,
          "message": "Cleaned up 5 expired sessions"
        }
      },
      "AdminSession": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User ID of the admin"
          },
          "username": {
            "type": "string",
            "title": "Username",
            "description": "Username of the admin"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Admin role"
          },
          "ip_address": {
            "type": "string",
            "title": "Ip Address",
            "description": "IP address of the session"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO format creation timestamp"
          },
          "last_activity": {
            "type": "string",
            "title": "Last Activity",
            "description": "ISO format last activity timestamp"
          },
          "action_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Action Count",
            "description": "Number of actions performed in this session",
            "default": 0
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "user_id",
          "username",
          "role",
          "ip_address",
          "created_at",
          "last_activity"
        ],
        "title": "AdminSession",
        "description": "Admin session information.\n\nThis model represents an active admin session with user and activity details."
      },
      "AdminSessionsResponse": {
        "properties": {
          "sessions": {
            "items": {
              "$ref": "#/components/schemas/AdminSession"
            },
            "type": "array",
            "title": "Sessions",
            "description": "List of active admin sessions"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of active sessions"
          }
        },
        "type": "object",
        "required": [
          "sessions",
          "count"
        ],
        "title": "AdminSessionsResponse",
        "description": "Response model for admin sessions.",
        "example": {
          "count": 1,
          "sessions": [
            {
              "last_activity": "2024-01-01T00:00:00Z",
              "user_id": "123",
              "username": "admin"
            }
          ]
        }
      },
      "AlertResolveResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "AlertResolveResponse",
        "description": "Response model for alert resolution."
      },
      "AlertsResponse": {
        "properties": {
          "alerts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Alerts"
          },
          "alert_count": {
            "type": "integer",
            "title": "Alert Count"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "alerts",
          "alert_count",
          "timestamp"
        ],
        "title": "AlertsResponse",
        "description": "Response model for system alerts."
      },
      "AsciiMapResponse": {
        "properties": {
          "map_html": {
            "type": "string",
            "title": "Map Html",
            "description": "HTML string containing the rendered ASCII map"
          },
          "plane": {
            "type": "string",
            "title": "Plane",
            "description": "Plane name"
          },
          "zone": {
            "type": "string",
            "title": "Zone",
            "description": "Zone name"
          },
          "sub_zone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sub Zone",
            "description": "Sub-zone name (if any)"
          },
          "viewport": {
            "$ref": "#/components/schemas/ViewportInfo",
            "description": "Viewport information"
          }
        },
        "type": "object",
        "required": [
          "map_html",
          "plane",
          "zone",
          "viewport"
        ],
        "title": "AsciiMapResponse",
        "description": "Response model for ASCII map endpoint.",
        "example": {
          "map_html": "<pre>...</pre>",
          "plane": "earth",
          "sub_zone": "downtown",
          "viewport": {
            "height": 24,
            "width": 80,
            "x": 0,
            "y": 0
          },
          "zone": "arkhamcity"
        }
      },
      "AsciiMinimapResponse": {
        "properties": {
          "map_html": {
            "type": "string",
            "title": "Map Html",
            "description": "HTML string containing the rendered ASCII minimap"
          },
          "plane": {
            "type": "string",
            "title": "Plane",
            "description": "Plane name"
          },
          "zone": {
            "type": "string",
            "title": "Zone",
            "description": "Zone name"
          },
          "sub_zone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sub Zone",
            "description": "Sub-zone name (if any)"
          },
          "size": {
            "type": "integer",
            "title": "Size",
            "description": "Minimap size in characters (e.g., 5 means 5x5 grid)"
          }
        },
        "type": "object",
        "required": [
          "map_html",
          "plane",
          "zone",
          "size"
        ],
        "title": "AsciiMinimapResponse",
        "description": "Response model for ASCII minimap endpoint.",
        "example": {
          "map_html": "<pre>...</pre>",
          "plane": "earth",
          "size": 5,
          "sub_zone": "downtown",
          "zone": "arkhamcity"
        }
      },
      "AuditLogEntry": {
        "properties": {
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO format timestamp of the action"
          },
          "action_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Action Type",
            "description": "Type of action (e.g., 'admin_command', 'player_action')"
          },
          "event_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Event Type",
            "description": "Event type (alternative to action_type)"
          },
          "admin_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Admin Name",
            "description": "Name of the admin who performed the action"
          },
          "admin": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Admin",
            "description": "Admin identifier (alternative to admin_name)"
          },
          "command": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Command",
            "description": "Command that was executed"
          },
          "action": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Action",
            "description": "Action performed (alternative to command)"
          },
          "target_player": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Player",
            "description": "Target player if applicable"
          },
          "success": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Success",
            "description": "Whether the action was successful"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if the action failed"
          },
          "additional_data": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Data",
            "description": "Additional action data"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "required": [
          "timestamp"
        ],
        "title": "AuditLogEntry",
        "description": "Audit log entry for admin actions.\n\nThis model represents a single audit log entry tracking administrative actions."
      },
      "AvailableClassesResponse": {
        "properties": {
          "classes": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ClassDefinition"
            },
            "type": "object",
            "title": "Classes",
            "description": "Dictionary of class names to their prerequisites and descriptions"
          },
          "stat_range": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Stat Range",
            "description": "Stat range information (min and max values)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "classes",
          "stat_range"
        ],
        "title": "AvailableClassesResponse",
        "description": "Response model for available character classes endpoint.",
        "example": {
          "classes": {
            "investigator": {
              "description": "A skilled researcher and detective",
              "prerequisites": {
                "int": 12
              }
            }
          },
          "stat_range": {
            "max": 18,
            "min": 3
          }
        }
      },
      "BearerResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "token_type"
        ],
        "title": "BearerResponse"
      },
      "Body_auth_jwt_login_v1_auth_jwt_login_post": {
        "properties": {
          "grant_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^password$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grant Type"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "format": "password",
            "title": "Password"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "default": ""
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "format": "password",
            "title": "Client Secret"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_auth_jwt_login_v1_auth_jwt_login_post"
      },
      "BroadcastMessageResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "The broadcast message"
          },
          "recipients": {
            "type": "integer",
            "title": "Recipients",
            "description": "Number of recipients who received the message"
          },
          "broadcaster": {
            "type": "string",
            "title": "Broadcaster",
            "description": "Username of the broadcaster"
          },
          "broadcast_stats": {
            "$ref": "#/components/schemas/BroadcastStats",
            "description": "Detailed broadcast statistics"
          }
        },
        "type": "object",
        "required": [
          "message",
          "recipients",
          "broadcaster",
          "broadcast_stats"
        ],
        "title": "BroadcastMessageResponse",
        "description": "Response model for broadcast message endpoint.",
        "example": {
          "broadcast_stats": {
            "failed_deliveries": 0,
            "successful_deliveries": 10,
            "total_recipients": 10
          },
          "broadcaster": "admin",
          "message": "Server maintenance in 5 minutes",
          "recipients": 10
        }
      },
      "BroadcastStats": {
        "properties": {
          "successful_deliveries": {
            "type": "integer",
            "title": "Successful Deliveries",
            "description": "Number of successful message deliveries"
          },
          "failed_deliveries": {
            "type": "integer",
            "title": "Failed Deliveries",
            "description": "Number of failed message deliveries",
            "default": 0
          },
          "total_recipients": {
            "type": "integer",
            "title": "Total Recipients",
            "description": "Total number of recipients attempted"
          }
        },
        "type": "object",
        "required": [
          "successful_deliveries",
          "total_recipients"
        ],
        "title": "BroadcastStats",
        "description": "Statistics for a broadcast operation."
      },
      "CacheMetricsResponse": {
        "properties": {
          "cache_sizes": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Cache Sizes"
          },
          "cache_hit_rates": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Cache Hit Rates"
          },
          "expired_entry_counts": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Expired Entry Counts"
          },
          "expiration_rates": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Expiration Rates"
          },
          "capacity_utilization": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Capacity Utilization"
          },
          "cache_stats": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "object",
            "title": "Cache Stats"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "cache_sizes",
          "cache_hit_rates",
          "expired_entry_counts",
          "expiration_rates",
          "capacity_utilization",
          "cache_stats",
          "timestamp"
        ],
        "title": "CacheMetricsResponse",
        "description": "Response model for cache metrics."
      },
      "ClassDefinition": {
        "properties": {
          "prerequisites": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Prerequisites",
            "description": "Dictionary mapping attribute names to minimum required values"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Description of the character class"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "prerequisites",
          "description"
        ],
        "title": "ClassDefinition",
        "description": "Definition of a character class with prerequisites and description.\n\nThis model represents the requirements and metadata for a character class,\nincluding stat prerequisites and descriptive text."
      },
      "CloseContainerRequest": {
        "properties": {
          "container_id": {
            "type": "string",
            "format": "uuid",
            "title": "Container Id",
            "description": "UUID of the container to close"
          },
          "mutation_token": {
            "type": "string",
            "title": "Mutation Token",
            "description": "Mutation token from open_container"
          }
        },
        "type": "object",
        "required": [
          "container_id",
          "mutation_token"
        ],
        "title": "CloseContainerRequest",
        "description": "Request model for closing a container."
      },
      "CommandRequest": {
        "properties": {
          "command": {
            "type": "string",
            "title": "Command"
          }
        },
        "type": "object",
        "required": [
          "command"
        ],
        "title": "CommandRequest",
        "description": "Request model for command processing."
      },
      "ConnectionHealthStatsResponse": {
        "properties": {
          "overall_health": {
            "additionalProperties": true,
            "type": "object",
            "title": "Overall Health"
          },
          "connection_type_health": {
            "additionalProperties": true,
            "type": "object",
            "title": "Connection Type Health"
          },
          "connection_lifecycle": {
            "additionalProperties": true,
            "type": "object",
            "title": "Connection Lifecycle"
          },
          "session_health": {
            "additionalProperties": true,
            "type": "object",
            "title": "Session Health"
          },
          "health_trends": {
            "additionalProperties": true,
            "type": "object",
            "title": "Health Trends"
          },
          "timestamp": {
            "type": "number",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "overall_health",
          "connection_type_health",
          "connection_lifecycle",
          "session_health",
          "health_trends",
          "timestamp"
        ],
        "title": "ConnectionHealthStatsResponse",
        "description": "Response model for connection health statistics."
      },
      "ConnectionStatisticsResponse": {
        "properties": {
          "presence": {
            "$ref": "#/components/schemas/PresenceStatistics",
            "description": "Presence statistics"
          },
          "sessions": {
            "$ref": "#/components/schemas/SessionStatistics",
            "description": "Session statistics"
          },
          "errors": {
            "$ref": "#/components/schemas/ErrorStatistics",
            "description": "Error statistics"
          },
          "timestamp": {
            "type": "number",
            "title": "Timestamp",
            "description": "Response timestamp"
          }
        },
        "type": "object",
        "required": [
          "presence",
          "sessions",
          "errors"
        ],
        "title": "ConnectionStatisticsResponse",
        "description": "Response model for connection statistics endpoint.",
        "example": {
          "errors": {
            "recent_errors": [],
            "total_errors": 2
          },
          "presence": {
            "total_offline": 5,
            "total_online": 10
          },
          "sessions": {
            "active_sessions": 8,
            "total_sessions": 15
          },
          "timestamp": 1234567890.0
        }
      },
      "ConnectionsComponent": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/HealthStatus",
            "description": "Connection manager health status"
          },
          "active_connections": {
            "type": "integer",
            "title": "Active Connections",
            "description": "Current active connections"
          },
          "max_connections": {
            "type": "integer",
            "title": "Max Connections",
            "description": "Maximum allowed connections"
          },
          "connection_rate_per_minute": {
            "type": "number",
            "title": "Connection Rate Per Minute",
            "description": "Connection rate per minute"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "status",
          "active_connections",
          "max_connections",
          "connection_rate_per_minute"
        ],
        "title": "ConnectionsComponent",
        "description": "Connection manager health status and metrics."
      },
      "ContainerCloseResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Status of the close operation"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ContainerCloseResponse",
        "description": "Response model for closing a container.",
        "example": {
          "status": "closed"
        }
      },
      "ContainerData": {
        "properties": {
          "container_id": {
            "type": "string",
            "title": "Container Id",
            "description": "Container instance identifier"
          },
          "source_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Type",
            "description": "Type of container (environment, equipment, corpse)"
          },
          "owner_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner Id",
            "description": "Owner UUID"
          },
          "room_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Room Id",
            "description": "Room identifier"
          },
          "entity_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Entity Id",
            "description": "Entity UUID for wearable containers"
          },
          "lock_state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lock State",
            "description": "Lock state"
          },
          "capacity_slots": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Capacity Slots",
            "description": "Maximum number of inventory slots"
          },
          "weight_limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight Limit",
            "description": "Weight limit"
          },
          "decay_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Decay At",
            "description": "ISO format decay timestamp"
          },
          "allowed_roles": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Allowed Roles",
            "description": "Roles allowed to access"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/InventoryStack"
            },
            "type": "array",
            "title": "Items",
            "description": "Items in the container"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "description": "Container metadata"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At",
            "description": "ISO format creation timestamp"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "ISO format update timestamp"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "required": [
          "container_id"
        ],
        "title": "ContainerData",
        "description": "Container data structure for API responses.\n\nThis model represents container information with inventory and metadata."
      },
      "ContainerLootAllResponse": {
        "properties": {
          "container": {
            "$ref": "#/components/schemas/ContainerData",
            "description": "Updated container data after looting"
          },
          "player_inventory": {
            "items": {
              "$ref": "#/components/schemas/InventoryStack"
            },
            "type": "array",
            "title": "Player Inventory",
            "description": "Updated player inventory with looted items"
          },
          "items_looted": {
            "type": "integer",
            "title": "Items Looted",
            "description": "Number of items successfully looted"
          }
        },
        "type": "object",
        "required": [
          "container",
          "player_inventory",
          "items_looted"
        ],
        "title": "ContainerLootAllResponse",
        "description": "Response model for looting all items from a container.",
        "example": {
          "container": {
            "id": "123e4567-e89b-12d3-a456-426614174000",
            "inventory": []
          },
          "items_looted": 1,
          "player_inventory": [
            {
              "item_id": "sword_001",
              "quantity": 1,
              "slot": 0
            }
          ]
        }
      },
      "ContainerOpenResponse": {
        "properties": {
          "container": {
            "$ref": "#/components/schemas/ContainerData",
            "description": "Container data including inventory and metadata"
          },
          "mutation_token": {
            "type": "string",
            "title": "Mutation Token",
            "description": "Token required for subsequent container operations"
          }
        },
        "type": "object",
        "required": [
          "container",
          "mutation_token"
        ],
        "title": "ContainerOpenResponse",
        "description": "Response model for opening a container.",
        "example": {
          "container": {
            "capacity": 10,
            "id": "123e4567-e89b-12d3-a456-426614174000",
            "inventory": [],
            "name": "Wooden Chest"
          },
          "mutation_token": "abc123def456"
        }
      },
      "ContainerTransferResponse": {
        "properties": {
          "container": {
            "$ref": "#/components/schemas/ContainerData",
            "description": "Updated container data"
          },
          "player_inventory": {
            "items": {
              "$ref": "#/components/schemas/InventoryStack"
            },
            "type": "array",
            "title": "Player Inventory",
            "description": "Updated player inventory"
          }
        },
        "type": "object",
        "required": [
          "container",
          "player_inventory"
        ],
        "title": "ContainerTransferResponse",
        "description": "Response model for transferring items between container and inventory.",
        "example": {
          "container": {
            "id": "123e4567-e89b-12d3-a456-426614174000",
            "inventory": []
          },
          "player_inventory": [
            {
              "item_id": "sword_001",
              "quantity": 1,
              "slot": 0
            }
          ]
        }
      },
      "CoordinateRecalculationResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message"
          },
          "coordinates_generated": {
            "type": "integer",
            "title": "Coordinates Generated",
            "description": "Number of coordinates generated"
          },
          "conflicts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Conflicts",
            "description": "List of coordinate conflicts found"
          },
          "conflict_count": {
            "type": "integer",
            "title": "Conflict Count",
            "description": "Total number of conflicts"
          },
          "valid": {
            "type": "boolean",
            "title": "Valid",
            "description": "Whether coordinates are valid after recalculation"
          }
        },
        "type": "object",
        "required": [
          "message",
          "coordinates_generated",
          "conflict_count",
          "valid"
        ],
        "title": "CoordinateRecalculationResponse",
        "description": "Response model for coordinate recalculation endpoint.",
        "example": {
          "conflict_count": 0,
          "conflicts": [],
          "coordinates_generated": 42,
          "message": "Coordinates recalculated",
          "valid": true
        }
      },
      "CorruptionRequest": {
        "properties": {
          "amount": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Amount",
            "description": "Amount of corruption to apply (0-100)"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Source of corruption",
            "default": "unknown"
          }
        },
        "type": "object",
        "required": [
          "amount"
        ],
        "title": "CorruptionRequest",
        "description": "Request model for applying corruption."
      },
      "CreateCharacterRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Name",
            "description": "Character name"
          },
          "stats": {
            "additionalProperties": true,
            "type": "object",
            "title": "Stats",
            "description": "Character stats dictionary"
          },
          "profession_id": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Profession Id",
            "description": "Profession ID",
            "default": 0
          },
          "start_in_tutorial": {
            "type": "boolean",
            "title": "Start In Tutorial",
            "description": "Start in tutorial instance (per-player)",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "name",
          "stats"
        ],
        "title": "CreateCharacterRequest",
        "description": "Request model for character creation."
      },
      "CreateCharacterResponse": {
        "properties": {
          "player": {
            "$ref": "#/components/schemas/PlayerRead",
            "description": "Created player character data"
          }
        },
        "type": "object",
        "required": [
          "player"
        ],
        "title": "CreateCharacterResponse",
        "description": "Response model for character creation.",
        "example": {
          "player": {
            "id": "550e8400-e29b-41d4-a716-446655440000",
            "name": "Test Character",
            "stats": {
              "int": 14,
              "str": 12
            }
          }
        }
      },
      "DLQMessage": {
        "properties": {
          "message_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message Id",
            "description": "Message identifier"
          },
          "subject": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subject",
            "description": "NATS subject"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp",
            "description": "ISO format timestamp"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message"
          },
          "payload": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payload",
            "description": "Message payload"
          },
          "retry_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Retry Count",
            "description": "Number of retry attempts"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "DLQMessage",
        "description": "Dead letter queue message structure.\n\nThis model represents a message that failed processing and was sent to the DLQ."
      },
      "DLQMessagesResponse": {
        "properties": {
          "messages": {
            "items": {
              "$ref": "#/components/schemas/DLQMessage"
            },
            "type": "array",
            "title": "Messages",
            "description": "List of DLQ messages"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of messages returned"
          },
          "total_in_dlq": {
            "type": "integer",
            "title": "Total In Dlq",
            "description": "Total number of messages in DLQ"
          }
        },
        "type": "object",
        "required": [
          "count",
          "total_in_dlq"
        ],
        "title": "DLQMessagesResponse",
        "description": "Response model for dead letter queue messages.",
        "example": {
          "count": 0,
          "messages": [],
          "total_in_dlq": 0
        }
      },
      "DLQReplayDetails": {
        "properties": {
          "messages_replayed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Messages Replayed",
            "description": "Number of messages replayed"
          },
          "messages_failed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Messages Failed",
            "description": "Number of messages that failed to replay"
          },
          "errors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errors",
            "description": "List of error messages"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "DLQReplayDetails",
        "description": "Details for DLQ message replay operation."
      },
      "DLQReplayResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Replay status"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Replay result message"
          },
          "filepath": {
            "type": "string",
            "title": "Filepath",
            "description": "Path to the replayed message file"
          },
          "details": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DLQReplayDetails"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional replay details"
          }
        },
        "type": "object",
        "required": [
          "status",
          "message",
          "filepath"
        ],
        "title": "DLQReplayResponse",
        "description": "Response model for DLQ message replay operation.",
        "example": {
          "details": {},
          "filepath": "/path/to/message.json",
          "message": "Message replayed successfully",
          "status": "success"
        }
      },
      "DamageRequest": {
        "properties": {
          "amount": {
            "type": "integer",
            "maximum": 1000.0,
            "minimum": 0.0,
            "title": "Amount",
            "description": "Amount of damage to apply (0-1000)"
          },
          "damage_type": {
            "type": "string",
            "title": "Damage Type",
            "description": "Type of damage",
            "default": "physical"
          }
        },
        "type": "object",
        "required": [
          "amount"
        ],
        "title": "DamageRequest",
        "description": "Request model for damaging a player."
      },
      "DatabaseComponent": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/HealthStatus",
            "description": "Database health status"
          },
          "connection_count": {
            "type": "integer",
            "title": "Connection Count",
            "description": "Active database connections"
          },
          "last_query_time_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Query Time Ms",
            "description": "Last query response time in milliseconds"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "status",
          "connection_count"
        ],
        "title": "DatabaseComponent",
        "description": "Database component health status and metrics."
      },
      "DeleteCharacterResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether deletion was successful"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Deletion result message"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "DeleteCharacterResponse",
        "description": "Response model for character deletion.",
        "example": {
          "message": "Character deleted successfully",
          "success": true
        }
      },
      "DualConnectionStatsResponse": {
        "properties": {
          "connection_distribution": {
            "additionalProperties": true,
            "type": "object",
            "title": "Connection Distribution"
          },
          "connection_health": {
            "additionalProperties": true,
            "type": "object",
            "title": "Connection Health"
          },
          "session_metrics": {
            "additionalProperties": true,
            "type": "object",
            "title": "Session Metrics"
          },
          "connection_lifecycle": {
            "additionalProperties": true,
            "type": "object",
            "title": "Connection Lifecycle"
          },
          "performance_metrics": {
            "additionalProperties": true,
            "type": "object",
            "title": "Performance Metrics"
          },
          "timestamp": {
            "type": "number",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "connection_distribution",
          "connection_health",
          "session_metrics",
          "connection_lifecycle",
          "performance_metrics",
          "timestamp"
        ],
        "title": "DualConnectionStatsResponse",
        "description": "Response model for dual connection statistics."
      },
      "EffectResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message describing the effect applied"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "EffectResponse",
        "description": "Response model for player effect endpoints (lucidity loss, fear, corruption, etc.).",
        "example": {
          "message": "Applied 5 lucidity loss to Player Name"
        }
      },
      "ErrorModel": {
        "properties": {
          "detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              }
            ],
            "title": "Detail"
          }
        },
        "type": "object",
        "required": [
          "detail"
        ],
        "title": "ErrorModel"
      },
      "ErrorStatistics": {
        "properties": {
          "total_errors": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Errors",
            "description": "Total number of errors"
          },
          "recent_errors": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Recent Errors",
            "description": "List of recent error details"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "ErrorStatistics",
        "description": "Error statistics for connection monitoring.\n\nThis model represents aggregate error metrics."
      },
      "EventBusMetricsResponse": {
        "properties": {
          "subscriber_counts_by_type": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Subscriber Counts By Type"
          },
          "total_subscribers": {
            "type": "integer",
            "title": "Total Subscribers"
          },
          "active_task_count": {
            "type": "integer",
            "title": "Active Task Count"
          },
          "task_details": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Task Details"
          },
          "subscription_churn_rate": {
            "type": "number",
            "title": "Subscription Churn Rate"
          },
          "subscription_count": {
            "type": "integer",
            "title": "Subscription Count"
          },
          "unsubscription_count": {
            "type": "integer",
            "title": "Unsubscription Count"
          },
          "recent_subscriptions_last_hour": {
            "type": "integer",
            "title": "Recent Subscriptions Last Hour"
          },
          "recent_unsubscriptions_last_hour": {
            "type": "integer",
            "title": "Recent Unsubscriptions Last Hour"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "subscriber_counts_by_type",
          "total_subscribers",
          "active_task_count",
          "task_details",
          "subscription_churn_rate",
          "subscription_count",
          "unsubscription_count",
          "recent_subscriptions_last_hour",
          "recent_unsubscriptions_last_hour",
          "timestamp"
        ],
        "title": "EventBusMetricsResponse",
        "description": "Response model for EventBus metrics."
      },
      "FearRequest": {
        "properties": {
          "amount": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Amount",
            "description": "Amount of fear to apply (0-100)"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Source of fear",
            "default": "unknown"
          }
        },
        "type": "object",
        "required": [
          "amount"
        ],
        "title": "FearRequest",
        "description": "Request model for applying fear."
      },
      "GameStatusResponse": {
        "properties": {
          "active_connections": {
            "type": "integer",
            "title": "Active Connections",
            "description": "Number of active WebSocket connections"
          },
          "active_players": {
            "type": "integer",
            "title": "Active Players",
            "description": "Number of currently connected players"
          },
          "room_subscriptions": {
            "type": "integer",
            "title": "Room Subscriptions",
            "description": "Number of active room subscriptions"
          },
          "server_time": {
            "type": "string",
            "title": "Server Time",
            "description": "ISO-8601 timestamp of server time"
          }
        },
        "type": "object",
        "required": [
          "active_connections",
          "active_players",
          "room_subscriptions",
          "server_time"
        ],
        "title": "GameStatusResponse",
        "description": "Response model for game status endpoint.",
        "example": {
          "active_connections": 5,
          "active_players": 3,
          "room_subscriptions": 12,
          "server_time": "2025-01-12T15:30:45.123456Z"
        }
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealRequest": {
        "properties": {
          "amount": {
            "type": "integer",
            "maximum": 1000.0,
            "minimum": 0.0,
            "title": "Amount",
            "description": "Amount of health to restore (0-1000)"
          }
        },
        "type": "object",
        "required": [
          "amount"
        ],
        "title": "HealRequest",
        "description": "Request model for healing a player."
      },
      "HealthComponents": {
        "properties": {
          "server": {
            "$ref": "#/components/schemas/ServerComponent",
            "description": "Server component health"
          },
          "database": {
            "$ref": "#/components/schemas/DatabaseComponent",
            "description": "Database component health"
          },
          "connections": {
            "$ref": "#/components/schemas/ConnectionsComponent",
            "description": "Connection manager health"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "server",
          "database",
          "connections"
        ],
        "title": "HealthComponents",
        "description": "Health status for all system components."
      },
      "HealthInfo": {
        "properties": {
          "is_healthy": {
            "type": "boolean",
            "title": "Is Healthy",
            "description": "Whether connection is healthy"
          },
          "last_heartbeat": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Heartbeat",
            "description": "Last heartbeat timestamp"
          },
          "latency": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency",
            "description": "Connection latency in milliseconds"
          }
        },
        "type": "object",
        "required": [
          "is_healthy"
        ],
        "title": "HealthInfo",
        "description": "Health information for a player connection.",
        "example": {
          "is_healthy": true,
          "last_heartbeat": 1234567890.0,
          "latency": 50.5
        }
      },
      "HealthResponse": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/HealthStatus",
            "description": "Overall system health status"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO-8601 timestamp of health check"
          },
          "uptime_seconds": {
            "type": "number",
            "title": "Uptime Seconds",
            "description": "Server uptime in seconds"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Server version"
          },
          "components": {
            "$ref": "#/components/schemas/HealthComponents",
            "description": "Individual component health status"
          },
          "alerts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Alerts",
            "description": "List of active alerts"
          }
        },
        "type": "object",
        "required": [
          "status",
          "timestamp",
          "uptime_seconds",
          "version",
          "components"
        ],
        "title": "HealthResponse",
        "description": "Complete health response for the system.",
        "example": {
          "alerts": [],
          "components": {
            "connections": {
              "active_connections": 3,
              "connection_rate_per_minute": 45.2,
              "max_connections": 100,
              "status": "healthy"
            },
            "database": {
              "connection_count": 5,
              "last_query_time_ms": 12.5,
              "status": "healthy"
            },
            "server": {
              "cpu_usage_percent": 15.2,
              "memory_usage_mb": 256.5,
              "status": "healthy",
              "uptime_seconds": 12345.67
            }
          },
          "status": "healthy",
          "timestamp": "2025-08-27T15:30:45.123456Z",
          "uptime_seconds": 12345.67,
          "version": "0.1.0"
        }
      },
      "HealthStatus": {
        "type": "string",
        "enum": [
          "healthy",
          "degraded",
          "unhealthy"
        ],
        "title": "HealthStatus",
        "description": "Health status enumeration for system components."
      },
      "HolidayEntry": {
        "properties": {
          "id": {
            "type": "string",
            "minLength": 3,
            "pattern": "^[a-z0-9_]+$",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "tradition": {
            "type": "string",
            "title": "Tradition"
          },
          "month": {
            "type": "integer",
            "maximum": 12.0,
            "minimum": 1.0,
            "title": "Month"
          },
          "day": {
            "type": "integer",
            "maximum": 31.0,
            "minimum": 1.0,
            "title": "Day"
          },
          "duration_hours": {
            "type": "integer",
            "maximum": 48.0,
            "minimum": 1.0,
            "title": "Duration Hours",
            "default": 24
          },
          "season": {
            "type": "string",
            "title": "Season"
          },
          "bonus_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Bonus Tags"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "id",
          "name",
          "tradition",
          "month",
          "day",
          "season"
        ],
        "title": "HolidayEntry",
        "description": "Single holiday definition loaded from data/<env>/calendar/holidays.json."
      },
      "InnerContainer": {
        "properties": {
          "capacity_slots": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Capacity Slots",
            "description": "Capacity of the inner container"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/InventoryStack"
            },
            "type": "array",
            "title": "Items",
            "description": "Items in the inner container"
          },
          "lock_state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lock State",
            "description": "Lock state of the inner container"
          },
          "allowed_roles": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Allowed Roles",
            "description": "Roles allowed to access the inner container"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "capacity_slots"
        ],
        "title": "InnerContainer",
        "description": "Nested container structure for wearable items."
      },
      "IntegrityResponse": {
        "properties": {
          "valid": {
            "type": "boolean",
            "title": "Valid"
          },
          "violations": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Violations"
          },
          "total_rooms": {
            "type": "integer",
            "title": "Total Rooms"
          },
          "total_players": {
            "type": "integer",
            "title": "Total Players"
          },
          "avg_occupancy": {
            "type": "number",
            "title": "Avg Occupancy"
          },
          "max_occupancy": {
            "type": "integer",
            "title": "Max Occupancy"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "valid",
          "violations",
          "total_rooms",
          "total_players",
          "avg_occupancy",
          "max_occupancy",
          "timestamp"
        ],
        "title": "IntegrityResponse",
        "description": "Response model for room integrity validation."
      },
      "InventoryItem": {
        "properties": {
          "item_id": {
            "type": "string",
            "title": "Item Id",
            "description": "Unique item identifier"
          },
          "quantity": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Quantity",
            "description": "Number of items",
            "default": 1
          },
          "weapon": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/WeaponStats"
              },
              {
                "type": "null"
              }
            ],
            "description": "Weapon stats when item is a weapon (min_damage, max_damage, modifier, damage_types, magical)."
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "item_id"
        ],
        "title": "InventoryItem",
        "description": "Represents an item in a player's inventory."
      },
      "InventoryStack": {
        "properties": {
          "item_instance_id": {
            "type": "string",
            "title": "Item Instance Id",
            "description": "Unique instance identifier for this item"
          },
          "prototype_id": {
            "type": "string",
            "title": "Prototype Id",
            "description": "Prototype identifier for the item type"
          },
          "item_id": {
            "type": "string",
            "title": "Item Id",
            "description": "Item identifier (legacy compatibility)"
          },
          "item_name": {
            "type": "string",
            "title": "Item Name",
            "description": "Display name of the item"
          },
          "slot_type": {
            "type": "string",
            "title": "Slot Type",
            "description": "Slot type (e.g., backpack, head, left_hand)"
          },
          "quantity": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Quantity",
            "description": "Number of items in the stack"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "description": "Optional structured metadata"
          },
          "weapon": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/WeaponStats"
              },
              {
                "type": "null"
              }
            ],
            "description": "Weapon stats when item is a weapon"
          },
          "flags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Flags",
            "description": "Item flags"
          },
          "origin": {
            "additionalProperties": true,
            "type": "object",
            "title": "Origin",
            "description": "Origin information"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At",
            "description": "ISO format creation timestamp"
          },
          "inner_container": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/InnerContainer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Nested container for wearable items"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "item_instance_id",
          "prototype_id",
          "item_id",
          "item_name",
          "slot_type",
          "quantity"
        ],
        "title": "InventoryStack",
        "description": "Inventory stack model for items in containers and player inventories.\n\nThis model represents a stack of items with metadata, flags, and optional weapon stats."
      },
      "InviteRead": {
        "properties": {
          "invite_code": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Invite Code",
            "description": "Invite code"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether invite is active (available for use)",
            "default": true
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Invite's unique identifier (UUID as string)"
          },
          "used_by_user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Used By User Id",
            "description": "User who used the invite (UUID as string)"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "When the invite expires"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Invite creation timestamp"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "invite_code",
          "id",
          "created_at"
        ],
        "title": "InviteRead",
        "description": "Schema for reading invite data.",
        "example": {
          "created_at": "2024-01-01T00:00:00Z",
          "expires_at": "2024-12-31T23:59:59Z",
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "invite_code": "ABC123DEF456",
          "is_active": true
        }
      },
      "LoginGracePeriodResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether operation was successful"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          },
          "grace_period_active": {
            "type": "boolean",
            "title": "Grace Period Active",
            "description": "Whether grace period is currently active"
          },
          "grace_period_remaining": {
            "type": "number",
            "title": "Grace Period Remaining",
            "description": "Remaining grace period time in seconds"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "success",
          "message",
          "grace_period_active",
          "grace_period_remaining"
        ],
        "title": "LoginGracePeriodResponse",
        "description": "Response model for login grace period operations.",
        "example": {
          "grace_period_active": true,
          "grace_period_remaining": 10.0,
          "message": "Login grace period started",
          "success": true
        }
      },
      "LoginRequest": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "LoginRequest",
        "description": "Schema for login requests."
      },
      "LoginResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "characters": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Characters",
            "description": "List of active characters"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "user_id"
        ],
        "title": "LoginResponse",
        "description": "Schema for login responses.\n\nMULTI-CHARACTER: Updated to return list of characters instead of single character."
      },
      "LootAllRequest": {
        "properties": {
          "container_id": {
            "type": "string",
            "format": "uuid",
            "title": "Container Id",
            "description": "UUID of the container"
          },
          "mutation_token": {
            "type": "string",
            "title": "Mutation Token",
            "description": "Mutation token from open_container"
          }
        },
        "type": "object",
        "required": [
          "container_id",
          "mutation_token"
        ],
        "title": "LootAllRequest",
        "description": "Request model for looting all items from a container."
      },
      "LucidityLossRequest": {
        "properties": {
          "amount": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Amount",
            "description": "Amount of lucidity to lose (0-100)"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Source of lucidity loss",
            "default": "unknown"
          }
        },
        "type": "object",
        "required": [
          "amount"
        ],
        "title": "LucidityLossRequest",
        "description": "Request model for applying lucidity loss."
      },
      "MapOriginSetResponse": {
        "properties": {
          "room_id": {
            "type": "string",
            "title": "Room Id",
            "description": "Room ID that was set as origin"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message"
          },
          "coordinates_generated": {
            "type": "integer",
            "title": "Coordinates Generated",
            "description": "Number of coordinates generated"
          },
          "conflicts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Conflicts",
            "description": "List of coordinate conflicts found"
          },
          "conflict_count": {
            "type": "integer",
            "title": "Conflict Count",
            "description": "Total number of conflicts"
          },
          "valid": {
            "type": "boolean",
            "title": "Valid",
            "description": "Whether coordinates are valid after recalculation"
          }
        },
        "type": "object",
        "required": [
          "room_id",
          "message",
          "coordinates_generated",
          "conflict_count",
          "valid"
        ],
        "title": "MapOriginSetResponse",
        "description": "Response model for setting map origin endpoint.",
        "example": {
          "conflict_count": 0,
          "conflicts": [],
          "coordinates_generated": 42,
          "message": "Map origin set and coordinates recalculated",
          "room_id": "earth_arkhamcity_sanitarium_room_foyer_001",
          "valid": true
        }
      },
      "MechanicalEffect": {
        "properties": {
          "effect_type": {
            "type": "string",
            "title": "Effect Type",
            "description": "Type of mechanical effect"
          },
          "value": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "number"
              }
            ],
            "title": "Value",
            "description": "Effect value"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Description of the effect"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "effect_type",
          "value"
        ],
        "title": "MechanicalEffect",
        "description": "Mechanical effect of a profession."
      },
      "MemoryAlertsResponse": {
        "properties": {
          "alerts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Alerts"
          },
          "alert_count": {
            "type": "integer",
            "title": "Alert Count"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "alerts",
          "alert_count",
          "timestamp"
        ],
        "title": "MemoryAlertsResponse",
        "description": "Response model for memory alerts."
      },
      "MemoryLeakMetricsResponse": {
        "properties": {
          "connection": {
            "additionalProperties": true,
            "type": "object",
            "title": "Connection"
          },
          "event": {
            "additionalProperties": true,
            "type": "object",
            "title": "Event"
          },
          "cache": {
            "additionalProperties": true,
            "type": "object",
            "title": "Cache"
          },
          "task": {
            "additionalProperties": true,
            "type": "object",
            "title": "Task"
          },
          "nats": {
            "additionalProperties": true,
            "type": "object",
            "title": "Nats"
          },
          "growth_rates": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Growth Rates"
          },
          "alerts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Alerts"
          },
          "timestamp": {
            "type": "number",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "connection",
          "event",
          "cache",
          "task",
          "nats",
          "growth_rates",
          "alerts",
          "timestamp"
        ],
        "title": "MemoryLeakMetricsResponse",
        "description": "Response model for comprehensive memory leak metrics."
      },
      "MemoryStatsResponse": {
        "properties": {
          "memory": {
            "additionalProperties": true,
            "type": "object",
            "title": "Memory"
          },
          "connections": {
            "additionalProperties": true,
            "type": "object",
            "title": "Connections"
          },
          "data_structures": {
            "additionalProperties": true,
            "type": "object",
            "title": "Data Structures"
          },
          "cleanup_stats": {
            "additionalProperties": true,
            "type": "object",
            "title": "Cleanup Stats"
          },
          "memory_monitor": {
            "additionalProperties": true,
            "type": "object",
            "title": "Memory Monitor"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "memory",
          "connections",
          "data_structures",
          "cleanup_stats",
          "memory_monitor",
          "timestamp"
        ],
        "title": "MemoryStatsResponse",
        "description": "Response model for memory statistics."
      },
      "MessageResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "MessageResponse",
        "description": "Generic response model for operations that return a simple message."
      },
      "MetricsData": {
        "properties": {
          "uptime_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Uptime Seconds",
            "description": "System uptime in seconds"
          },
          "messages": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Messages",
            "description": "Message processing metrics"
          },
          "circuit_breaker": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Circuit Breaker",
            "description": "Circuit breaker metrics"
          },
          "dead_letter_queue": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dead Letter Queue",
            "description": "DLQ metrics"
          },
          "nats_connection": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nats Connection",
            "description": "NATS connection metrics"
          },
          "performance": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Performance",
            "description": "Performance metrics"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "MetricsData",
        "description": "Comprehensive system metrics data.\n\nThis model represents system metrics with dynamic structure to accommodate\nvarious metric types (NATS, circuit breaker, DLQ, performance, etc.)."
      },
      "MetricsResponse": {
        "properties": {
          "metrics": {
            "$ref": "#/components/schemas/MetricsData",
            "description": "Comprehensive system metrics including NATS, circuit breaker, and DLQ stats"
          }
        },
        "type": "object",
        "required": [
          "metrics"
        ],
        "title": "MetricsResponse",
        "description": "Response model for comprehensive system metrics.",
        "example": {
          "metrics": {
            "circuit_breaker": {
              "state": "closed"
            },
            "dead_letter_queue": {
              "total_messages": 0
            },
            "nats_connection": {
              "status": "connected"
            }
          }
        }
      },
      "MetricsSummary": {
        "properties": {
          "total_messages": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Messages",
            "description": "Total messages processed"
          },
          "success_rate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Success Rate",
            "description": "Success rate (0.0-1.0)"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "MetricsSummary",
        "description": "High-level metrics summary.\n\nThis model represents a concise summary of system health indicators."
      },
      "MetricsSummaryResponse": {
        "properties": {
          "summary": {
            "$ref": "#/components/schemas/MetricsSummary",
            "description": "High-level health indicators and summary metrics"
          },
          "dlq_pending": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dlq Pending",
            "description": "Number of messages pending in DLQ"
          },
          "circuit_state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Circuit State",
            "description": "Current circuit breaker state"
          }
        },
        "type": "object",
        "required": [
          "summary"
        ],
        "title": "MetricsSummaryResponse",
        "description": "Response model for concise metrics summary.",
        "example": {
          "circuit_state": "closed",
          "dlq_pending": 5,
          "summary": {
            "success_rate": 0.99,
            "total_messages": 1000
          }
        }
      },
      "MythosTimeResponse": {
        "properties": {
          "mythos_datetime": {
            "type": "string",
            "title": "Mythos Datetime",
            "description": "ISO-8601 formatted Mythos datetime"
          },
          "mythos_clock": {
            "type": "string",
            "title": "Mythos Clock",
            "description": "Formatted clock time in Mythos format"
          },
          "month_name": {
            "type": "string",
            "title": "Month Name",
            "description": "Name of the current month"
          },
          "day_of_month": {
            "type": "integer",
            "title": "Day Of Month",
            "description": "Day of the month (1-31)"
          },
          "day_name": {
            "type": "string",
            "title": "Day Name",
            "description": "Name of the day of week"
          },
          "week_of_month": {
            "type": "integer",
            "title": "Week Of Month",
            "description": "Week number within the month"
          },
          "season": {
            "type": "string",
            "title": "Season",
            "description": "Current season"
          },
          "daypart": {
            "type": "string",
            "title": "Daypart",
            "description": "Time of day (dawn, day, dusk, night)"
          },
          "is_daytime": {
            "type": "boolean",
            "title": "Is Daytime",
            "description": "Whether it is currently daytime"
          },
          "is_witching_hour": {
            "type": "boolean",
            "title": "Is Witching Hour",
            "description": "Whether it is the witching hour"
          },
          "server_timestamp": {
            "type": "string",
            "title": "Server Timestamp",
            "description": "ISO-8601 timestamp of server time"
          },
          "active_holidays": {
            "items": {
              "$ref": "#/components/schemas/HolidayEntry"
            },
            "type": "array",
            "title": "Active Holidays",
            "description": "Currently active holidays"
          },
          "upcoming_holidays": {
            "items": {
              "$ref": "#/components/schemas/HolidayEntry"
            },
            "type": "array",
            "title": "Upcoming Holidays",
            "description": "Upcoming holidays"
          }
        },
        "type": "object",
        "required": [
          "mythos_datetime",
          "mythos_clock",
          "month_name",
          "day_of_month",
          "day_name",
          "week_of_month",
          "season",
          "daypart",
          "is_daytime",
          "is_witching_hour",
          "server_timestamp"
        ],
        "title": "MythosTimeResponse",
        "description": "Response model for Mythos calendar time endpoint.",
        "example": {
          "active_holidays": [],
          "day_name": "Sunday",
          "day_of_month": 31,
          "daypart": "night",
          "is_daytime": false,
          "is_witching_hour": true,
          "month_name": "October",
          "mythos_clock": "11:45 PM",
          "mythos_datetime": "1926-10-31T23:45:00Z",
          "season": "autumn",
          "server_timestamp": "2025-01-12T15:30:45.123456Z",
          "upcoming_holidays": [],
          "week_of_month": 5
        }
      },
      "NPCAIIntegrationModel": {
        "properties": {
          "ai_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ai Enabled",
            "description": "Whether AI integration is enabled"
          },
          "ai_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ai Provider",
            "description": "AI provider identifier"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "NPCAIIntegrationModel",
        "description": "Model for NPC AI integration stub configuration."
      },
      "NPCBaseStatsModel": {
        "properties": {
          "determination_points": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Determination Points",
            "description": "Current determination points (DP)"
          },
          "max_dp": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Dp",
            "description": "Maximum determination points"
          },
          "magic_points": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Magic Points",
            "description": "Current magic points (MP)"
          },
          "max_mp": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Mp",
            "description": "Maximum magic points"
          },
          "strength": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Strength",
            "description": "Strength attribute"
          },
          "dexterity": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Dexterity",
            "description": "Dexterity attribute"
          },
          "constitution": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Constitution",
            "description": "Constitution attribute"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "NPCBaseStatsModel",
        "description": "Model for NPC base statistics."
      },
      "NPCBehaviorConfigModel": {
        "properties": {
          "aggression_level": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 10.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Aggression Level",
            "description": "Aggression level (0-10)"
          },
          "wander_radius": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Wander Radius",
            "description": "Maximum wander radius"
          },
          "idle_behavior": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Idle Behavior",
            "description": "Idle behavior type"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "NPCBehaviorConfigModel",
        "description": "Model for NPC behavior configuration."
      },
      "NPCDefinitionCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "npc_type": {
            "$ref": "#/components/schemas/NPCDefinitionType"
          },
          "sub_zone_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Sub Zone Id"
          },
          "room_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Room Id"
          },
          "base_stats": {
            "$ref": "#/components/schemas/NPCBaseStatsModel"
          },
          "behavior_config": {
            "$ref": "#/components/schemas/NPCBehaviorConfigModel"
          },
          "ai_integration_stub": {
            "$ref": "#/components/schemas/NPCAIIntegrationModel"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "name",
          "npc_type",
          "sub_zone_id",
          "room_id"
        ],
        "title": "NPCDefinitionCreate",
        "description": "Model for creating NPC definitions."
      },
      "NPCDefinitionResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "npc_type": {
            "type": "string",
            "title": "Npc Type"
          },
          "sub_zone_id": {
            "type": "string",
            "title": "Sub Zone Id"
          },
          "room_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Room Id"
          },
          "base_stats": {
            "$ref": "#/components/schemas/NPCBaseStatsModel"
          },
          "behavior_config": {
            "$ref": "#/components/schemas/NPCBehaviorConfigModel"
          },
          "ai_integration_stub": {
            "$ref": "#/components/schemas/NPCAIIntegrationModel"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "npc_type",
          "sub_zone_id",
          "room_id",
          "base_stats",
          "behavior_config",
          "ai_integration_stub"
        ],
        "title": "NPCDefinitionResponse",
        "description": "Model for NPC definition responses."
      },
      "NPCDefinitionType": {
        "type": "string",
        "enum": [
          "shopkeeper",
          "quest_giver",
          "passive_mob",
          "aggressive_mob"
        ],
        "title": "NPCDefinitionType",
        "description": "Enumeration of valid NPC definition types."
      },
      "NPCDefinitionUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "npc_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/NPCDefinitionType"
              },
              {
                "type": "null"
              }
            ]
          },
          "sub_zone_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Sub Zone Id"
          },
          "room_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Room Id"
          },
          "base_stats": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/NPCBaseStatsModel"
              },
              {
                "type": "null"
              }
            ]
          },
          "behavior_config": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/NPCBehaviorConfigModel"
              },
              {
                "type": "null"
              }
            ]
          },
          "ai_integration_stub": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/NPCAIIntegrationModel"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "NPCDefinitionUpdate",
        "description": "Model for updating NPC definitions."
      },
      "NPCDespawnResponse": {
        "properties": {
          "npc_id": {
            "type": "string",
            "title": "Npc Id",
            "description": "ID of the despawned NPC instance"
          },
          "npc_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Npc Name",
            "description": "Name of the despawned NPC"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether despawn was successful",
            "default": true
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "npc_id"
        ],
        "title": "NPCDespawnResponse",
        "description": "Response model for NPC despawn operations.",
        "example": {
          "message": "NPC despawned successfully",
          "npc_id": "npc-123",
          "npc_name": "Guard",
          "success": true
        }
      },
      "NPCMoveRequest": {
        "properties": {
          "room_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Room Id"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "room_id"
        ],
        "title": "NPCMoveRequest",
        "description": "Model for NPC movement requests."
      },
      "NPCMoveResponse": {
        "properties": {
          "npc_id": {
            "type": "string",
            "title": "Npc Id",
            "description": "ID of the moved NPC instance"
          },
          "npc_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Npc Name",
            "description": "Name of the moved NPC"
          },
          "old_room_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Room Id",
            "description": "Previous room ID"
          },
          "new_room_id": {
            "type": "string",
            "title": "New Room Id",
            "description": "New room ID"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether move was successful",
            "default": true
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "npc_id",
          "new_room_id"
        ],
        "title": "NPCMoveResponse",
        "description": "Response model for NPC move operations.",
        "example": {
          "message": "NPC moved successfully",
          "new_room_id": "arkham_002",
          "npc_id": "npc-123",
          "npc_name": "Guard",
          "old_room_id": "arkham_001",
          "success": true
        }
      },
      "NPCPopulationStatsResponse": {
        "properties": {},
        "additionalProperties": true,
        "type": "object",
        "title": "NPCPopulationStatsResponse",
        "description": "Response model for NPC population statistics.\n\nThis model uses a flexible structure to accommodate dynamic population stats.",
        "example": {
          "active_npcs": 45,
          "inactive_npcs": 5,
          "total_npcs": 50
        }
      },
      "NPCSpawnConditionsModel": {
        "properties": {
          "time_of_day": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Time Of Day",
            "description": "Allowed times of day for spawning"
          },
          "weather_conditions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Weather Conditions",
            "description": "Required weather conditions"
          },
          "room_tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Room Tags",
            "description": "Required room tags"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "NPCSpawnConditionsModel",
        "description": "Model for NPC spawn conditions."
      },
      "NPCSpawnRequest": {
        "properties": {
          "definition_id": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "Definition Id"
          },
          "room_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Room Id"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "definition_id",
          "room_id"
        ],
        "title": "NPCSpawnRequest",
        "description": "Model for NPC spawn requests."
      },
      "NPCSpawnResponse": {
        "properties": {
          "npc_id": {
            "type": "string",
            "title": "Npc Id",
            "description": "ID of the spawned NPC instance"
          },
          "definition_id": {
            "type": "integer",
            "title": "Definition Id",
            "description": "ID of the NPC definition used"
          },
          "room_id": {
            "type": "string",
            "title": "Room Id",
            "description": "Room where NPC was spawned"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether spawn was successful",
            "default": true
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "npc_id",
          "definition_id",
          "room_id"
        ],
        "title": "NPCSpawnResponse",
        "description": "Response model for NPC spawn operations.",
        "example": {
          "definition_id": 1,
          "message": "NPC spawned successfully",
          "npc_id": "npc-123",
          "room_id": "arkham_001",
          "success": true
        }
      },
      "NPCSpawnRuleCreate": {
        "properties": {
          "npc_definition_id": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "Npc Definition Id"
          },
          "sub_zone_id": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Sub Zone Id"
          },
          "min_population": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Min Population",
            "default": 0
          },
          "max_population": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Max Population",
            "default": 999
          },
          "spawn_conditions": {
            "$ref": "#/components/schemas/NPCSpawnConditionsModel"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "npc_definition_id",
          "sub_zone_id"
        ],
        "title": "NPCSpawnRuleCreate",
        "description": "Model for creating NPC spawn rules."
      },
      "NPCSpawnRuleResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "npc_definition_id": {
            "type": "integer",
            "title": "Npc Definition Id"
          },
          "sub_zone_id": {
            "type": "string",
            "title": "Sub Zone Id"
          },
          "min_population": {
            "type": "integer",
            "title": "Min Population"
          },
          "max_population": {
            "type": "integer",
            "title": "Max Population"
          },
          "spawn_conditions": {
            "$ref": "#/components/schemas/NPCSpawnConditionsModel"
          }
        },
        "type": "object",
        "required": [
          "id",
          "npc_definition_id",
          "sub_zone_id",
          "min_population",
          "max_population",
          "spawn_conditions"
        ],
        "title": "NPCSpawnRuleResponse",
        "description": "Model for NPC spawn rule responses."
      },
      "NPCStatsResponse": {
        "properties": {},
        "additionalProperties": true,
        "type": "object",
        "title": "NPCStatsResponse",
        "description": "Response model for NPC stats.\n\nThis model uses a flexible structure to accommodate dynamic NPC stats\nreturned by the NPC instance service.",
        "example": {
          "name": "Guard",
          "npc_id": "npc-123"
        }
      },
      "NPCSystemStatusResponse": {
        "properties": {},
        "additionalProperties": true,
        "type": "object",
        "title": "NPCSystemStatusResponse",
        "description": "Response model for NPC system status.\n\nThis model uses a flexible structure to accommodate dynamic system status.",
        "example": {
          "active_npcs": 45,
          "last_update": "2024-01-01T00:00:00Z",
          "system_status": "healthy",
          "total_npcs": 50
        }
      },
      "NPCZoneStatsResponse": {
        "properties": {},
        "additionalProperties": true,
        "type": "object",
        "title": "NPCZoneStatsResponse",
        "description": "Response model for NPC zone statistics.\n\nThis model uses a flexible structure to accommodate dynamic zone stats.",
        "example": {
          "total_npcs": 50,
          "total_zones": 10,
          "zones": {
            "arkham": 20,
            "dunwich": 30
          }
        }
      },
      "NewGameSessionResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether session was created successfully"
          },
          "session_id": {
            "type": "string",
            "title": "Session Id",
            "description": "New session ID"
          },
          "disconnected_connections": {
            "type": "integer",
            "title": "Disconnected Connections",
            "description": "Number of connections that were disconnected",
            "default": 0
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "session_id"
        ],
        "title": "NewGameSessionResponse",
        "description": "Response model for new game session endpoint.",
        "example": {
          "disconnected_connections": 2,
          "message": "New game session created",
          "session_id": "session-123",
          "success": true
        }
      },
      "OccultKnowledgeRequest": {
        "properties": {
          "amount": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Amount",
            "description": "Amount of occult knowledge to gain (0-100)"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Source of occult knowledge",
            "default": "unknown"
          }
        },
        "type": "object",
        "required": [
          "amount"
        ],
        "title": "OccultKnowledgeRequest",
        "description": "Request model for gaining occult knowledge."
      },
      "OpenContainerRequest": {
        "properties": {
          "container_id": {
            "type": "string",
            "format": "uuid",
            "title": "Container Id",
            "description": "UUID of the container to open"
          }
        },
        "type": "object",
        "required": [
          "container_id"
        ],
        "title": "OpenContainerRequest",
        "description": "Request model for opening a container."
      },
      "PatternsResponse": {
        "properties": {
          "patterns": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "object",
            "title": "Patterns"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          }
        },
        "type": "object",
        "required": [
          "patterns",
          "total_count"
        ],
        "title": "PatternsResponse",
        "description": "Response model for pattern listing."
      },
      "PerformanceStatsResponse": {
        "properties": {
          "connection_establishment": {
            "additionalProperties": true,
            "type": "object",
            "title": "Connection Establishment"
          },
          "message_delivery": {
            "additionalProperties": true,
            "type": "object",
            "title": "Message Delivery"
          },
          "disconnections": {
            "additionalProperties": true,
            "type": "object",
            "title": "Disconnections"
          },
          "session_management": {
            "additionalProperties": true,
            "type": "object",
            "title": "Session Management"
          },
          "health_monitoring": {
            "additionalProperties": true,
            "type": "object",
            "title": "Health Monitoring"
          },
          "timestamp": {
            "type": "number",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "connection_establishment",
          "message_delivery",
          "disconnections",
          "session_management",
          "health_monitoring",
          "timestamp"
        ],
        "title": "PerformanceStatsResponse",
        "description": "Response model for connection performance statistics."
      },
      "PerformanceSummaryResponse": {
        "properties": {
          "summary": {
            "additionalProperties": true,
            "type": "object",
            "title": "Summary"
          },
          "alerts": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Alerts"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "summary",
          "alerts",
          "timestamp"
        ],
        "title": "PerformanceSummaryResponse",
        "description": "Response model for performance summary endpoint."
      },
      "PlayerConnectionsResponse": {
        "properties": {
          "player_id": {
            "type": "string",
            "title": "Player Id",
            "description": "Player ID"
          },
          "presence": {
            "$ref": "#/components/schemas/PresenceInfo",
            "description": "Presence information"
          },
          "session": {
            "$ref": "#/components/schemas/SessionInfo",
            "description": "Session information"
          },
          "health": {
            "$ref": "#/components/schemas/HealthInfo",
            "description": "Health information"
          },
          "timestamp": {
            "type": "number",
            "title": "Timestamp",
            "description": "Response timestamp"
          }
        },
        "type": "object",
        "required": [
          "player_id",
          "presence",
          "session",
          "health"
        ],
        "title": "PlayerConnectionsResponse",
        "description": "Response model for player connection information endpoint.",
        "example": {
          "health": {
            "is_healthy": true,
            "last_heartbeat": 1234567890.0
          },
          "player_id": "123e4567-e89b-12d3-a456-426614174000",
          "presence": {
            "is_online": true,
            "last_seen": 1234567890.0
          },
          "session": {
            "is_valid": true,
            "session_connections": [
              "conn-1"
            ],
            "session_id": "session-123"
          },
          "timestamp": 1234567890.0
        }
      },
      "PlayerRead": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Name",
            "description": "Player name"
          },
          "current_room_id": {
            "type": "string",
            "title": "Current Room Id",
            "description": "Current room ID",
            "default": "earth_arkhamcity_sanitarium_room_foyer_001"
          },
          "experience_points": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Experience Points",
            "description": "Experience points",
            "default": 0
          },
          "level": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Level",
            "description": "Player level",
            "default": 1
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Player's unique identifier"
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id",
            "description": "Associated user ID"
          },
          "profession_id": {
            "type": "integer",
            "title": "Profession Id",
            "description": "Player's profession ID",
            "default": 0
          },
          "profession_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Profession Name",
            "description": "Player's profession name"
          },
          "profession_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Profession Description",
            "description": "Player's profession description"
          },
          "profession_flavor_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Profession Flavor Text",
            "description": "Player's profession flavor text"
          },
          "stats": {
            "$ref": "#/components/schemas/Stats",
            "description": "Player stats"
          },
          "inventory": {
            "items": {
              "$ref": "#/components/schemas/InventoryItem"
            },
            "type": "array",
            "title": "Inventory",
            "description": "Player inventory"
          },
          "status_effects": {
            "items": {
              "$ref": "#/components/schemas/StatusEffect"
            },
            "type": "array",
            "title": "Status Effects",
            "description": "Player status effects"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Player creation timestamp"
          },
          "last_active": {
            "type": "string",
            "format": "date-time",
            "title": "Last Active",
            "description": "Player last active timestamp"
          },
          "is_admin": {
            "type": "boolean",
            "title": "Is Admin",
            "description": "Whether player has admin privileges",
            "default": false
          },
          "in_combat": {
            "type": "boolean",
            "title": "In Combat",
            "description": "Whether player is currently in combat",
            "default": false
          },
          "position": {
            "$ref": "#/components/schemas/PositionState",
            "description": "Current body posture",
            "default": "standing"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "name",
          "id",
          "user_id",
          "stats",
          "inventory",
          "status_effects",
          "created_at",
          "last_active"
        ],
        "title": "PlayerRead",
        "description": "Schema for reading player data.",
        "example": {
          "created_at": "2024-01-01T00:00:00Z",
          "current_room_id": "earth_arkhamcity_northside_intersection_derby_high",
          "experience_points": 150,
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "inventory": [
            {
              "id": "sword",
              "name": "Rusty Sword"
            }
          ],
          "last_active": "2024-01-01T12:00:00Z",
          "level": 2,
          "name": "ProfessorWolfshade",
          "profession_description": "A wandering soul with no particular skills or connections.",
          "profession_flavor_text": "You have spent your days drifting from place to place, learning to survive on your wits alone.",
          "profession_id": 0,
          "profession_name": "Tramp",
          "stats": {
            "health": 95,
            "lucidity": 88,
            "strength": 12
          },
          "status_effects": [
            {
              "duration": 5,
              "type": "poison"
            }
          ],
          "user_id": "123e4567-e89b-12d3-a456-426614174000"
        }
      },
      "PositionState": {
        "type": "string",
        "enum": [
          "standing",
          "sitting",
          "lying"
        ],
        "title": "PositionState",
        "description": "Permitted posture states for a character."
      },
      "PresenceInfo": {
        "properties": {
          "is_online": {
            "type": "boolean",
            "title": "Is Online",
            "description": "Whether player is currently online"
          },
          "last_seen": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Seen",
            "description": "Last seen timestamp"
          },
          "connection_count": {
            "type": "integer",
            "title": "Connection Count",
            "description": "Number of active connections",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "is_online"
        ],
        "title": "PresenceInfo",
        "description": "Presence information for a player connection.",
        "example": {
          "connection_count": 2,
          "is_online": true,
          "last_seen": 1234567890.0
        }
      },
      "PresenceStatistics": {
        "properties": {
          "total_online": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Online",
            "description": "Total number of online players"
          },
          "total_offline": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Offline",
            "description": "Total number of offline players"
          },
          "active_connections": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Active Connections",
            "description": "Number of active connections"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "PresenceStatistics",
        "description": "Presence statistics for connection monitoring.\n\nThis model represents aggregate presence metrics across all connections."
      },
      "ProfessionData": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Profession ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Profession name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Profession description"
          },
          "flavor_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Flavor Text",
            "description": "Flavor text for the profession"
          },
          "stat_requirements": {
            "items": {
              "$ref": "#/components/schemas/StatRequirement"
            },
            "type": "array",
            "title": "Stat Requirements",
            "description": "Stat requirements"
          },
          "mechanical_effects": {
            "items": {
              "$ref": "#/components/schemas/MechanicalEffect"
            },
            "type": "array",
            "title": "Mechanical Effects",
            "description": "Mechanical effects"
          },
          "is_available": {
            "type": "boolean",
            "title": "Is Available",
            "description": "Whether the profession is available for selection"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "is_available"
        ],
        "title": "ProfessionData",
        "description": "Profession data model.",
        "example": {
          "description": "A skilled investigator of the unknown",
          "flavor_text": "You have seen things that cannot be unseen...",
          "id": 1,
          "is_available": true,
          "mechanical_effects": [
            {
              "description": "+5 to investigation",
              "effect_type": "skill_bonus",
              "value": 5
            }
          ],
          "name": "Investigator",
          "stat_requirements": [
            {
              "minimum": 12,
              "stat": "int"
            }
          ]
        }
      },
      "ProfessionListResponse": {
        "properties": {
          "professions": {
            "items": {
              "$ref": "#/components/schemas/ProfessionData"
            },
            "type": "array",
            "title": "Professions",
            "description": "List of available professions"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "professions"
        ],
        "title": "ProfessionListResponse",
        "description": "Response model for listing all professions.",
        "example": {
          "professions": [
            {
              "description": "A skilled investigator",
              "id": 1,
              "is_available": true,
              "name": "Investigator"
            }
          ]
        }
      },
      "ProfessionResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Profession ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Profession name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Profession description"
          },
          "flavor_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Flavor Text",
            "description": "Flavor text for the profession"
          },
          "stat_requirements": {
            "items": {
              "$ref": "#/components/schemas/StatRequirement"
            },
            "type": "array",
            "title": "Stat Requirements",
            "description": "Stat requirements"
          },
          "mechanical_effects": {
            "items": {
              "$ref": "#/components/schemas/MechanicalEffect"
            },
            "type": "array",
            "title": "Mechanical Effects",
            "description": "Mechanical effects"
          },
          "is_available": {
            "type": "boolean",
            "title": "Is Available",
            "description": "Whether the profession is available for selection"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "stat_requirements",
          "mechanical_effects",
          "is_available"
        ],
        "title": "ProfessionResponse",
        "description": "Response model for a single profession.",
        "example": {
          "description": "A skilled investigator of the unknown",
          "flavor_text": "You have seen things that cannot be unseen...",
          "id": 1,
          "is_available": true,
          "mechanical_effects": [
            {
              "effect_type": "skill_bonus",
              "value": 5
            }
          ],
          "name": "Investigator",
          "stat_requirements": [
            {
              "minimum": 12,
              "stat": "int"
            }
          ]
        }
      },
      "RegisterPatternRequest": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Unique name for the pattern"
          },
          "pattern": {
            "type": "string",
            "title": "Pattern",
            "description": "Pattern template with {param} placeholders"
          },
          "required_params": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Required Params",
            "description": "List of required parameter names"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Human-readable description",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "name",
          "pattern",
          "required_params"
        ],
        "title": "RegisterPatternRequest",
        "description": "Request model for pattern registration."
      },
      "RegisterPatternResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "pattern_name": {
            "type": "string",
            "title": "Pattern Name"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "pattern_name",
          "message"
        ],
        "title": "RegisterPatternResponse",
        "description": "Response model for pattern registration."
      },
      "RespawnPlayerData": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Player UUID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Player name"
          },
          "dp": {
            "type": "integer",
            "title": "Dp",
            "description": "Current damage points"
          },
          "max_dp": {
            "type": "integer",
            "title": "Max Dp",
            "description": "Maximum damage points"
          },
          "current_room_id": {
            "type": "string",
            "title": "Current Room Id",
            "description": "Current room ID after respawn"
          },
          "lucidity": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lucidity",
            "description": "Current lucidity (for delirium respawn)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "dp",
          "max_dp",
          "current_room_id"
        ],
        "title": "RespawnPlayerData",
        "description": "Simplified player data returned in respawn responses."
      },
      "RespawnResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether respawn was successful"
          },
          "player": {
            "$ref": "#/components/schemas/RespawnPlayerData",
            "description": "Updated player data after respawn"
          },
          "room": {
            "$ref": "#/components/schemas/RoomData",
            "description": "Room data for the respawn location"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Respawn message for the player"
          }
        },
        "type": "object",
        "required": [
          "success",
          "player",
          "room",
          "message"
        ],
        "title": "RespawnResponse",
        "description": "Response model for player respawn endpoints.",
        "example": {
          "message": "You have been restored to lucidity and returned to the Sanitarium",
          "player": {
            "current_room_id": "earth_arkhamcity_sanitarium_room_foyer_001",
            "dp": 100,
            "id": "550e8400-e29b-41d4-a716-446655440000",
            "lucidity": 10,
            "max_dp": 100,
            "name": "Test Player"
          },
          "room": {
            "description": "A clean, sterile room...",
            "id": "earth_arkhamcity_sanitarium_room_foyer_001",
            "name": "Sanitarium Foyer"
          },
          "success": true
        }
      },
      "RollStatsRequest": {
        "properties": {
          "method": {
            "type": "string",
            "title": "Method",
            "default": "3d6"
          },
          "required_class": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Required Class"
          },
          "timeout_seconds": {
            "type": "number",
            "title": "Timeout Seconds",
            "default": 5.0
          },
          "profession_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Profession Id"
          }
        },
        "type": "object",
        "title": "RollStatsRequest",
        "description": "Request model for rolling character stats."
      },
      "RollStatsResponse": {
        "properties": {
          "stats": {
            "$ref": "#/components/schemas/RolledStats",
            "description": "Rolled character stats"
          },
          "stat_summary": {
            "$ref": "#/components/schemas/StatSummary",
            "description": "Summary of the rolled stats"
          },
          "profession_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Profession Id",
            "description": "Profession ID (if profession-based rolling)"
          },
          "available_classes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Available Classes",
            "description": "Available classes (if class-based rolling)"
          },
          "meets_requirements": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Meets Requirements",
            "description": "Whether stats meet profession requirements"
          },
          "meets_class_requirements": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Meets Class Requirements",
            "description": "Whether stats meet class requirements"
          },
          "method_used": {
            "type": "string",
            "title": "Method Used",
            "description": "Stats rolling method used"
          }
        },
        "type": "object",
        "required": [
          "stats",
          "stat_summary",
          "method_used"
        ],
        "title": "RollStatsResponse",
        "description": "Response model for rolling character stats.",
        "example": {
          "meets_requirements": true,
          "method_used": "standard",
          "profession_id": 1,
          "stat_summary": {
            "average": 13.0,
            "highest": 14,
            "lowest": 12,
            "total": 39
          },
          "stats": {
            "con": 13,
            "int": 14,
            "str": 12
          }
        }
      },
      "RolledStats": {
        "properties": {
          "strength": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Strength",
            "description": "Physical power and combat damage"
          },
          "dexterity": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Dexterity",
            "description": "Agility, reflexes, and speed"
          },
          "constitution": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Constitution",
            "description": "Health, stamina, and resistance"
          },
          "size": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Size",
            "description": "Height and weight combined"
          },
          "intelligence": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Intelligence",
            "description": "Problem-solving and magical aptitude"
          },
          "power": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Power",
            "description": "Willpower and magical potential"
          },
          "education": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Education",
            "description": "Formal learning and knowledge"
          },
          "charisma": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Charisma",
            "description": "Social skills and influence"
          },
          "luck": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Luck",
            "description": "Fortune and chance"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "strength",
          "dexterity",
          "constitution",
          "size",
          "intelligence",
          "power",
          "education",
          "charisma",
          "luck"
        ],
        "title": "RolledStats",
        "description": "Core character statistics that are rolled during character creation.\n\nThis model represents only the base attributes that are randomly generated,\nexcluding derived stats and horror-specific attributes."
      },
      "RoomData": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Room identifier"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Room name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Room description"
          },
          "plane": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plane",
            "description": "Plane name"
          },
          "zone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Zone",
            "description": "Zone name"
          },
          "sub_zone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sub Zone",
            "description": "Sub-zone name"
          },
          "environment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Environment",
            "description": "Environment type"
          },
          "exits": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Exits",
            "description": "Room exits mapping direction to room ID"
          },
          "containers": {
            "anyOf": [
              {
                "items": {},
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Containers",
            "description": "Containers in the room"
          },
          "players": {
            "anyOf": [
              {
                "items": {},
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Players",
            "description": "Players in the room"
          },
          "objects": {
            "anyOf": [
              {
                "items": {},
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Objects",
            "description": "Objects in the room"
          },
          "npcs": {
            "anyOf": [
              {
                "items": {},
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Npcs",
            "description": "NPCs in the room"
          },
          "occupant_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Occupant Count",
            "description": "Total occupant count"
          },
          "map_x": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Map X",
            "description": "Map X coordinate"
          },
          "map_y": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Map Y",
            "description": "Map Y coordinate"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "required": [
          "id",
          "name",
          "description"
        ],
        "title": "RoomData",
        "description": "Room data structure for API responses.\n\nThis model represents room information with core required fields,\nwhile allowing additional dynamic fields for flexibility."
      },
      "RoomListResponse": {
        "properties": {
          "rooms": {
            "items": {
              "$ref": "#/components/schemas/RoomData"
            },
            "type": "array",
            "title": "Rooms",
            "description": "List of room data"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of rooms returned"
          },
          "plane": {
            "type": "string",
            "title": "Plane",
            "description": "Plane name used for filtering"
          },
          "zone": {
            "type": "string",
            "title": "Zone",
            "description": "Zone name used for filtering"
          },
          "sub_zone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sub Zone",
            "description": "Sub-zone name used for filtering (if any)"
          }
        },
        "type": "object",
        "required": [
          "rooms",
          "total",
          "plane",
          "zone"
        ],
        "title": "RoomListResponse",
        "description": "Response model for listing rooms.",
        "example": {
          "plane": "earth",
          "rooms": [
            {
              "description": "A dimly lit entrance hall...",
              "id": "earth_arkhamcity_sanitarium_room_foyer_001",
              "name": "Sanitarium Foyer"
            }
          ],
          "sub_zone": "sanitarium",
          "total": 1,
          "zone": "arkhamcity"
        }
      },
      "RoomPositionUpdate": {
        "properties": {
          "map_x": {
            "type": "number",
            "maximum": 10000.0,
            "minimum": -10000.0,
            "title": "Map X",
            "description": "X coordinate for map position"
          },
          "map_y": {
            "type": "number",
            "maximum": 10000.0,
            "minimum": -10000.0,
            "title": "Map Y",
            "description": "Y coordinate for map position"
          }
        },
        "type": "object",
        "required": [
          "map_x",
          "map_y"
        ],
        "title": "RoomPositionUpdate",
        "description": "Request model for updating room map coordinates."
      },
      "RoomPositionUpdateResponse": {
        "properties": {
          "room_id": {
            "type": "string",
            "title": "Room Id",
            "description": "Room ID that was updated"
          },
          "map_x": {
            "type": "number",
            "title": "Map X",
            "description": "Updated X coordinate"
          },
          "map_y": {
            "type": "number",
            "title": "Map Y",
            "description": "Updated Y coordinate"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message"
          }
        },
        "type": "object",
        "required": [
          "room_id",
          "map_x",
          "map_y",
          "message"
        ],
        "title": "RoomPositionUpdateResponse",
        "description": "Response model for updating room position.",
        "example": {
          "map_x": 100.5,
          "map_y": 200.3,
          "message": "Room position updated successfully",
          "room_id": "earth_arkhamcity_sanitarium_room_foyer_001"
        }
      },
      "RoomResponse": {
        "properties": {},
        "additionalProperties": true,
        "type": "object",
        "title": "RoomResponse",
        "description": "Response model for single room information.\n\nThis model uses a flexible structure to accommodate dynamic room data\nreturned by the room service, which may include various fields depending\non the room type and configuration.",
        "example": {
          "id": "arkham_001",
          "name": "Arkham Room"
        }
      },
      "SelectCharacterRequest": {
        "properties": {
          "character_id": {
            "type": "string",
            "title": "Character Id",
            "description": "Character ID (player_id) to select"
          }
        },
        "type": "object",
        "required": [
          "character_id"
        ],
        "title": "SelectCharacterRequest",
        "description": "Request model for character selection."
      },
      "ServerComponent": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/HealthStatus",
            "description": "Server health status"
          },
          "uptime_seconds": {
            "type": "number",
            "title": "Uptime Seconds",
            "description": "Server uptime in seconds"
          },
          "memory_usage_mb": {
            "type": "number",
            "title": "Memory Usage Mb",
            "description": "Memory usage in MB"
          },
          "cpu_usage_percent": {
            "type": "number",
            "title": "Cpu Usage Percent",
            "description": "CPU usage percentage"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "status",
          "uptime_seconds",
          "memory_usage_mb",
          "cpu_usage_percent"
        ],
        "title": "ServerComponent",
        "description": "Server component health status and metrics."
      },
      "SessionInfo": {
        "properties": {
          "session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id",
            "description": "Current session ID"
          },
          "session_connections": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Session Connections",
            "description": "List of connection IDs in this session"
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid",
            "description": "Whether the session is valid",
            "default": false
          }
        },
        "type": "object",
        "title": "SessionInfo",
        "description": "Session information for a player connection.",
        "example": {
          "is_valid": true,
          "session_connections": [
            "conn-1",
            "conn-2"
          ],
          "session_id": "session-123"
        }
      },
      "SessionStatistics": {
        "properties": {
          "active_sessions": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Active Sessions",
            "description": "Number of active sessions"
          },
          "total_sessions": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Sessions",
            "description": "Total number of sessions"
          },
          "average_connections_per_session": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Average Connections Per Session",
            "description": "Average connections per session"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "SessionStatistics",
        "description": "Session statistics for connection monitoring.\n\nThis model represents aggregate session metrics."
      },
      "SetOriginRequest": {
        "properties": {
          "plane": {
            "type": "string",
            "title": "Plane",
            "description": "Plane name"
          },
          "zone": {
            "type": "string",
            "title": "Zone",
            "description": "Zone name"
          },
          "sub_zone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sub Zone",
            "description": "Sub-zone name"
          }
        },
        "type": "object",
        "required": [
          "plane",
          "zone"
        ],
        "title": "SetOriginRequest",
        "description": "Request model for setting map origin."
      },
      "StatRequirement": {
        "properties": {
          "stat": {
            "type": "string",
            "title": "Stat",
            "description": "Stat name (e.g., 'str', 'int', 'con')"
          },
          "minimum": {
            "type": "integer",
            "title": "Minimum",
            "description": "Minimum stat value required"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "stat",
          "minimum"
        ],
        "title": "StatRequirement",
        "description": "Stat requirement for a profession."
      },
      "StatSummary": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total stat points"
          },
          "average": {
            "type": "number",
            "title": "Average",
            "description": "Average stat value"
          },
          "highest": {
            "type": "integer",
            "title": "Highest",
            "description": "Highest stat value"
          },
          "lowest": {
            "type": "integer",
            "title": "Lowest",
            "description": "Lowest stat value"
          }
        },
        "type": "object",
        "required": [
          "total",
          "average",
          "highest",
          "lowest"
        ],
        "title": "StatSummary",
        "description": "Summary of rolled character stats."
      },
      "Stats": {
        "properties": {
          "strength": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Strength",
            "description": "Physical power and combat damage"
          },
          "dexterity": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dexterity",
            "description": "Agility, reflexes, and speed"
          },
          "constitution": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Constitution",
            "description": "Health, stamina, and resistance"
          },
          "size": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Size",
            "description": "Height and weight combined (CoC: (2D6+6)*5)"
          },
          "intelligence": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intelligence",
            "description": "Problem-solving and magical aptitude"
          },
          "power": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Power",
            "description": "Willpower and magical potential"
          },
          "education": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Education",
            "description": "Formal learning and knowledge"
          },
          "charisma": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Charisma",
            "description": "Social skills and influence"
          },
          "luck": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Luck",
            "description": "Fortune and chance"
          },
          "lucidity": {
            "type": "integer",
            "title": "Lucidity",
            "description": "Mental clarity (0 = complete delirium)",
            "default": 100
          },
          "occult": {
            "type": "integer",
            "title": "Occult",
            "description": "Knowledge of forbidden lore",
            "default": 0
          },
          "corruption": {
            "type": "integer",
            "title": "Corruption",
            "description": "Taint from dark forces",
            "default": 0
          },
          "current_dp": {
            "type": "integer",
            "title": "Current Dp",
            "description": "Current determination points (DP)",
            "default": 100
          },
          "magic_points": {
            "type": "integer",
            "title": "Magic Points",
            "description": "Current magic points (MP)",
            "default": 0
          },
          "position": {
            "$ref": "#/components/schemas/PositionState",
            "description": "Current body posture",
            "default": "standing"
          },
          "max_dp": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Dp",
            "description": "Max DP from persistence; if None, computed from (CON+SIZ)/5"
          },
          "max_magic_points": {
            "type": "integer",
            "title": "Max Magic Points",
            "description": "Calculate max magic points (MP) using formula: 20% of Power (ceiling rounded).\n\nAI: This computed field uses the same calculation logic as _calculate_max_magic_points()\nbut is exposed as a property for external access. The calculation is duplicated\nhere to avoid mypy inference issues with @computed_field decorators.",
            "readOnly": true
          },
          "max_lucidity": {
            "type": "integer",
            "title": "Max Lucidity",
            "description": "Calculate max lucidity based on education.\n\nAI: This computed field uses the same calculation logic as _calculate_max_lucidity()\nbut is exposed as a property for external access. The calculation is duplicated\nhere to avoid mypy inference issues with @computed_field decorators.",
            "readOnly": true
          }
        },
        "type": "object",
        "required": [
          "max_magic_points",
          "max_lucidity"
        ],
        "title": "Stats",
        "description": "Core character statistics with Lovecraftian horror elements."
      },
      "StatusEffect": {
        "properties": {
          "effect_type": {
            "$ref": "#/components/schemas/StatusEffectType"
          },
          "duration": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Duration",
            "description": "Duration in game ticks (0 = permanent)"
          },
          "intensity": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Intensity",
            "description": "Effect intensity from 1-10"
          },
          "source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source",
            "description": "Source of the effect (item, spell, etc.)"
          },
          "applied_at": {
            "type": "string",
            "format": "date-time",
            "title": "Applied At",
            "description": "When the effect was applied"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "effect_type",
          "duration",
          "intensity"
        ],
        "title": "StatusEffect",
        "description": "Represents a status effect applied to a character."
      },
      "StatusEffectType": {
        "type": "string",
        "enum": [
          "stunned",
          "poisoned",
          "hallucinating",
          "paranoid",
          "trembling",
          "corrupted",
          "delirious",
          "buff",
          "login_warded"
        ],
        "title": "StatusEffectType",
        "description": "Status effects that can be applied to characters."
      },
      "StatusMessageResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Operation status (e.g., 'success', 'error')"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "status",
          "message"
        ],
        "title": "StatusMessageResponse",
        "description": "Response model for operations that return status and message.",
        "example": {
          "message": "Operation completed successfully",
          "status": "success"
        }
      },
      "SubjectStatisticsResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "metrics": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metrics"
          },
          "patterns_registered": {
            "type": "integer",
            "title": "Patterns Registered"
          },
          "cache_enabled": {
            "type": "boolean",
            "title": "Cache Enabled"
          },
          "strict_validation": {
            "type": "boolean",
            "title": "Strict Validation"
          }
        },
        "type": "object",
        "required": [
          "status",
          "metrics",
          "patterns_registered",
          "cache_enabled",
          "strict_validation"
        ],
        "title": "SubjectStatisticsResponse",
        "description": "Response model for subject management statistics."
      },
      "SystemAlertsResponse": {
        "properties": {
          "alerts": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Alerts"
          }
        },
        "type": "object",
        "required": [
          "alerts"
        ],
        "title": "SystemAlertsResponse",
        "description": "Response model for system alerts."
      },
      "SystemHealthResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          },
          "performance_score": {
            "type": "number",
            "title": "Performance Score"
          },
          "error_rate": {
            "type": "number",
            "title": "Error Rate"
          },
          "warning_rate": {
            "type": "number",
            "title": "Warning Rate"
          },
          "active_users": {
            "type": "integer",
            "title": "Active Users"
          }
        },
        "type": "object",
        "required": [
          "status",
          "timestamp",
          "performance_score",
          "error_rate",
          "warning_rate",
          "active_users"
        ],
        "title": "SystemHealthResponse",
        "description": "Response model for system health check."
      },
      "SystemMetricsResponse": {
        "properties": {},
        "additionalProperties": true,
        "type": "object",
        "title": "SystemMetricsResponse",
        "description": "Response model for system metrics."
      },
      "SystemMonitoringSummaryResponse": {
        "properties": {},
        "additionalProperties": true,
        "type": "object",
        "title": "SystemMonitoringSummaryResponse",
        "description": "Response model for system monitoring summary."
      },
      "TaskMetricsResponse": {
        "properties": {
          "active_task_count": {
            "type": "integer",
            "title": "Active Task Count"
          },
          "task_creation_count": {
            "type": "integer",
            "title": "Task Creation Count"
          },
          "task_completion_count": {
            "type": "integer",
            "title": "Task Completion Count"
          },
          "task_cancellation_count": {
            "type": "integer",
            "title": "Task Cancellation Count"
          },
          "tasks_by_type": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Tasks By Type"
          },
          "tasks_by_service": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Tasks By Service"
          },
          "task_creation_rate": {
            "type": "integer",
            "title": "Task Creation Rate"
          },
          "task_completion_rate": {
            "type": "integer",
            "title": "Task Completion Rate"
          },
          "orphaned_task_count": {
            "type": "integer",
            "title": "Orphaned Task Count"
          },
          "lifecycle_tasks_count": {
            "type": "integer",
            "title": "Lifecycle Tasks Count"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "active_task_count",
          "task_creation_count",
          "task_completion_count",
          "task_cancellation_count",
          "tasks_by_type",
          "tasks_by_service",
          "task_creation_rate",
          "task_completion_rate",
          "orphaned_task_count",
          "lifecycle_tasks_count",
          "timestamp"
        ],
        "title": "TaskMetricsResponse",
        "description": "Response model for TaskRegistry metrics."
      },
      "TransferContainerRequest": {
        "properties": {
          "container_id": {
            "type": "string",
            "format": "uuid",
            "title": "Container Id",
            "description": "UUID of the container"
          },
          "mutation_token": {
            "type": "string",
            "title": "Mutation Token",
            "description": "Mutation token from open_container"
          },
          "direction": {
            "type": "string",
            "title": "Direction",
            "description": "Transfer direction: 'to_container' or 'to_player'"
          },
          "stack": {
            "additionalProperties": true,
            "type": "object",
            "title": "Stack",
            "description": "Item stack to transfer"
          },
          "quantity": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Quantity",
            "description": "Quantity to transfer"
          }
        },
        "type": "object",
        "required": [
          "container_id",
          "mutation_token",
          "direction",
          "stack",
          "quantity"
        ],
        "title": "TransferContainerRequest",
        "description": "Request model for transferring items to/from container."
      },
      "UserCreate": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          },
          "invite_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invite Code"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "UserCreate",
        "description": "Schema for user creation with invite code validation."
      },
      "UserRead": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "is_superuser": {
            "type": "boolean",
            "title": "Is Superuser",
            "default": false
          },
          "is_verified": {
            "type": "boolean",
            "title": "Is Verified",
            "default": false
          },
          "username": {
            "type": "string",
            "title": "Username"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "username"
        ],
        "title": "UserRead",
        "description": "Schema for user read operations."
      },
      "UserUpdate": {
        "properties": {
          "password": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Password"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          },
          "is_superuser": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Superuser"
          },
          "is_verified": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Verified"
          },
          "username": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Username"
          }
        },
        "type": "object",
        "title": "UserUpdate",
        "description": "Schema for user update operations."
      },
      "ValidateStatsResponse": {
        "properties": {
          "meets_prerequisites": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Meets Prerequisites",
            "description": "Whether stats meet class prerequisites (if class_name provided)"
          },
          "failed_requirements": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Failed Requirements",
            "description": "List of failed requirements"
          },
          "available_classes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Available Classes",
            "description": "List of available classes for these stats"
          },
          "requested_class": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Requested Class",
            "description": "Requested class name (if class_name provided)"
          },
          "stat_summary": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StatSummary"
              },
              {
                "type": "null"
              }
            ],
            "description": "Stat summary (if no class_name provided)"
          }
        },
        "type": "object",
        "title": "ValidateStatsResponse",
        "description": "Response model for stats validation.",
        "example": {
          "available_classes": [
            "investigator",
            "scholar"
          ],
          "failed_requirements": [],
          "meets_prerequisites": true,
          "requested_class": "investigator"
        }
      },
      "ValidateSubjectRequest": {
        "properties": {
          "subject": {
            "type": "string",
            "title": "Subject",
            "description": "NATS subject to validate"
          }
        },
        "type": "object",
        "required": [
          "subject"
        ],
        "title": "ValidateSubjectRequest",
        "description": "Request model for subject validation."
      },
      "ValidateSubjectResponse": {
        "properties": {
          "subject": {
            "type": "string",
            "title": "Subject"
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid"
          },
          "validation_time_ms": {
            "type": "number",
            "title": "Validation Time Ms"
          },
          "details": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details"
          }
        },
        "type": "object",
        "required": [
          "subject",
          "is_valid",
          "validation_time_ms"
        ],
        "title": "ValidateSubjectResponse",
        "description": "Response model for subject validation."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "ViewportInfo": {
        "properties": {
          "x": {
            "type": "integer",
            "title": "X",
            "description": "Viewport X offset"
          },
          "y": {
            "type": "integer",
            "title": "Y",
            "description": "Viewport Y offset"
          },
          "width": {
            "type": "integer",
            "title": "Width",
            "description": "Viewport width in characters"
          },
          "height": {
            "type": "integer",
            "title": "Height",
            "description": "Viewport height in lines"
          }
        },
        "type": "object",
        "required": [
          "x",
          "y",
          "width",
          "height"
        ],
        "title": "ViewportInfo",
        "description": "Viewport information for map rendering."
      },
      "WeaponStats": {
        "properties": {
          "min_damage": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Min Damage",
            "description": "Minimum damage dealt by this weapon"
          },
          "max_damage": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Max Damage",
            "description": "Maximum damage dealt by this weapon"
          },
          "modifier": {
            "type": "integer",
            "title": "Modifier",
            "description": "Damage modifier added to rolled damage",
            "default": 0
          },
          "damage_types": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Damage Types",
            "description": "List of damage types this weapon can deal (e.g., ['slashing', 'piercing'])"
          },
          "magical": {
            "type": "boolean",
            "title": "Magical",
            "description": "Whether this weapon has magical properties",
            "default": false
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "min_damage",
          "max_damage"
        ],
        "title": "WeaponStats",
        "description": "Weapon statistics for items that can be used as weapons.\n\nThis model represents the combat properties of a weapon item, including\ndamage range, modifiers, damage types, and magical properties."
      },
      "server__api__monitoring_models__MetricsResponse": {
        "properties": {
          "total_movements": {
            "type": "integer",
            "title": "Total Movements"
          },
          "successful_movements": {
            "type": "integer",
            "title": "Successful Movements"
          },
          "failed_movements": {
            "type": "integer",
            "title": "Failed Movements"
          },
          "success_rate": {
            "type": "number",
            "title": "Success Rate"
          },
          "failure_rate": {
            "type": "number",
            "title": "Failure Rate"
          },
          "current_concurrent_movements": {
            "type": "integer",
            "title": "Current Concurrent Movements"
          },
          "max_concurrent_movements": {
            "type": "integer",
            "title": "Max Concurrent Movements"
          },
          "avg_movement_time_ms": {
            "type": "number",
            "title": "Avg Movement Time Ms"
          },
          "max_movement_time_ms": {
            "type": "number",
            "title": "Max Movement Time Ms"
          },
          "min_movement_time_ms": {
            "type": "number",
            "title": "Min Movement Time Ms"
          },
          "movements_per_second": {
            "type": "number",
            "title": "Movements Per Second"
          },
          "uptime_seconds": {
            "type": "number",
            "title": "Uptime Seconds"
          },
          "integrity_checks": {
            "type": "integer",
            "title": "Integrity Checks"
          },
          "integrity_violations": {
            "type": "integer",
            "title": "Integrity Violations"
          },
          "integrity_rate": {
            "type": "number",
            "title": "Integrity Rate"
          },
          "last_movement_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Movement Time"
          },
          "last_validation_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Validation Time"
          },
          "room_occupancy": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Room Occupancy"
          },
          "player_movement_counts": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Player Movement Counts"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "total_movements",
          "successful_movements",
          "failed_movements",
          "success_rate",
          "failure_rate",
          "current_concurrent_movements",
          "max_concurrent_movements",
          "avg_movement_time_ms",
          "max_movement_time_ms",
          "min_movement_time_ms",
          "movements_per_second",
          "uptime_seconds",
          "integrity_checks",
          "integrity_violations",
          "integrity_rate",
          "last_movement_time",
          "last_validation_time",
          "room_occupancy",
          "player_movement_counts",
          "timestamp"
        ],
        "title": "MetricsResponse",
        "description": "Response model for movement metrics."
      },
      "server__schemas__players__player__MessageResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success or status message"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "message"
        ],
        "title": "MessageResponse",
        "description": "Generic response model for operations that return a simple message.",
        "example": {
          "message": "Operation completed successfully"
        }
      }
    },
    "securitySchemes": {
      "OAuth2PasswordBearer": {
        "type": "oauth2",
        "flows": {
          "password": {
            "scopes": {},
            "tokenUrl": "auth/jwt/login"
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "auth",
      "description": "Authentication: JWT login, registration, user management."
    },
    {
      "name": "users",
      "description": "User account operations (FastAPI Users)."
    },
    {
      "name": "players",
      "description": "Player characters: create, list, select, delete, stats, effects."
    },
    {
      "name": "professions",
      "description": "Character class and profession data."
    },
    {
      "name": "game",
      "description": "Game state: enter game, movement, combat actions."
    },
    {
      "name": "containers",
      "description": "Unified container system: environmental, wearable, corpse storage."
    },
    {
      "name": "rooms",
      "description": "Room data and exploration."
    },
    {
      "name": "maps",
      "description": "ASCII map rendering and exploration views."
    },
    {
      "name": "realtime",
      "description": "WebSocket connection and real-time game events."
    },
    {
      "name": "monitoring",
      "description": "Health checks, performance metrics, observability."
    },
    {
      "name": "metrics",
      "description": "NATS and system metrics."
    },
    {
      "name": "admin",
      "description": "Administrative endpoints: NPC management, teleport."
    },
    {
      "name": "npc",
      "description": "NPC spawn and lifecycle administration."
    },
    {
      "name": "nats",
      "description": "NATS subject management (admin)."
    },
    {
      "name": "subjects",
      "description": "NATS subject inspection and management."
    },
    {
      "name": "system",
      "description": "System-level monitoring and diagnostics."
    },
    {
      "name": "api",
      "description": "Base API utilities."
    }
  ]
}
