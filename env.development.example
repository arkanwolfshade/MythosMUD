# MythosMUD Development Environment Configuration

# --- Server Configuration ---
DEBUG=true
LOG_LEVEL=DEBUG
ENVIRONMENT=development

# --- Database Configuration ---
# PostgreSQL database for development
DATABASE_URL=postgresql+asyncpg://postgres:Cthulhu1@localhost:5432/mythos_dev
DATABASE_NPC_URL=postgresql+asyncpg://postgres:Cthulhu1@localhost:5432/mythos_dev

# --- Security Configuration ---
SECRET_KEY=dev-secret-key-not-for-production
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=60

# --- Argon2 Password Hashing Configuration (Optional) ---
# Argon2 parameters for password hashing
# Leave unset to use secure defaults
# ARGON2_TIME_COST=3          # 1-10, higher = more secure but slower
# ARGON2_MEMORY_COST=65536     # 1024-1048576 KiB, higher = more secure
# ARGON2_PARALLELISM=1        # 1-16, 1 recommended for web servers
# ARGON2_HASH_LENGTH=32       # 16-64 bytes, 32 recommended

# --- Security Headers Configuration ---
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=false
CSP_POLICY=default-src 'self' 'unsafe-inline' 'unsafe-eval'
REFERRER_POLICY=strict-origin-when-cross-origin

# --- CORS Configuration ---
ALLOWED_ORIGINS=http://localhost:5173,http://127.0.0.1:5173
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# --- Dual Connection System Configuration ---
MAX_CONNECTIONS_PER_PLAYER=2
CONNECTION_TIMEOUT=180
HEALTH_CHECK_INTERVAL=15
CLEANUP_INTERVAL=30
MESSAGE_BATCH_SIZE=100
CONNECTION_POOL_SIZE=1000
PERFORMANCE_MONITORING=true

# --- WebSocket Configuration ---
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_PING_TIMEOUT=10
WEBSOCKET_MAX_MESSAGE_SIZE=1048576

# --- SSE Configuration ---
SSE_RETRY_TIMEOUT=3000
SSE_MAX_CONNECTIONS=500

# --- Session Management ---
SESSION_TIMEOUT=3600
SESSION_CLEANUP_INTERVAL=300
MAX_SESSIONS_PER_PLAYER=5

# --- Error Handling ---
MAX_RETRY_ATTEMPTS=3
RETRY_DELAY=5
ERROR_RECOVERY_ENABLED=true

# --- Monitoring Configuration ---
ENABLE_METRICS=true
METRICS_PORT=9090
LOG_FORMAT=json
METRICS_INTERVAL=30
HEALTH_CHECK_INTERVAL=15
PERFORMANCE_TRACKING=true

# --- External Services ---
SENTRY_DSN=
PROMETHEUS_ENDPOINT=http://localhost:9090/metrics

# --- Load Balancing ---
SERVER_ID=1
CLUSTER_MODE=false
STICKY_SESSIONS=true

# --- Performance Tuning ---
WORKERS=1
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100
TIMEOUT_KEEP_ALIVE=5
TIMEOUT_GRACEFUL_SHUTDOWN=30

# --- SSL/TLS Configuration ---
SSL_CERT_PATH=
SSL_KEY_PATH=
SSL_VERIFY_CLIENT=false

# --- Backup Configuration ---
BACKUP_ENABLED=false
BACKUP_INTERVAL=3600
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=./backups

# --- Logging Configuration ---
LOG_ROTATION_MAX_SIZE=10MB
LOG_ROTATION_BACKUP_COUNT=5
LOG_COMPRESSION=false
LOG_LEVEL_FILE=DEBUG
LOG_LEVEL_CONSOLE=DEBUG

# --- Cache Configuration ---
REDIS_URL=
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# --- Rate Limiting ---
RATE_LIMIT_ENABLED=false
RATE_LIMIT_STORAGE=memory
RATE_LIMIT_STRATEGY=sliding_window

# --- Health Check Configuration ---
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# --- Metrics and Alerting ---
PROMETHEUS_ENABLED=false
GRAFANA_ENABLED=false
ALERTMANAGER_ENABLED=false
SLACK_WEBHOOK_URL=
EMAIL_ALERTS_ENABLED=false
EMAIL_SMTP_HOST=
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USER=
EMAIL_SMTP_PASSWORD=

# --- Feature Flags ---
ENABLE_DUAL_CONNECTIONS=true
ENABLE_SESSION_MANAGEMENT=true
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_ERROR_RECOVERY=true
ENABLE_CONNECTION_HEALTH_CHECKS=true
ENABLE_MESSAGE_BATCHING=true
ENABLE_CONNECTION_POOLING=true

# --- Development/Testing Flags ---
ENABLE_DEBUG_ENDPOINTS=true
ENABLE_TEST_DATA=true
ENABLE_MOCK_SERVICES=true
ENABLE_DEVELOPMENT_TOOLS=true
