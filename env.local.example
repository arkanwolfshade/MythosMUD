# MythosMUD Local Development Configuration
# Copy this file to .env.local and fill in the values
# DO NOT COMMIT .env.local - Add it to .gitignore

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
SERVER_HOST=127.0.0.1
SERVER_PORT=54731

# ============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# ============================================================================
# PostgreSQL database for local development
# Database: mythos_dev
DATABASE_URL=postgresql+asyncpg://postgres:Cthulhu1@localhost:5432/mythos_dev
DATABASE_NPC_URL=postgresql+asyncpg://postgres:Cthulhu1@localhost:5432/mythos_dev

# ============================================================================
# SECURITY CONFIGURATION (REQUIRED)
# ============================================================================
# Admin password for administrative functions
# For local development, use a simple password
# For production, use a strong password (min 12 characters)
MYTHOSMUD_ADMIN_PASSWORD=local_dev_admin_2024

# Invite codes file location
MYTHOSMUD_INVITE_CODES_FILE=invites.json

# ============================================================================
# ARGON2 PASSWORD HASHING CONFIGURATION (OPTIONAL)
# ============================================================================
# Argon2 parameters for password hashing
# Leave unset to use secure defaults
# ARGON2_TIME_COST=3          # 1-10, higher = more secure but slower
# ARGON2_MEMORY_COST=65536     # 1024-1048576 KiB, higher = more secure
# ARGON2_PARALLELISM=1        # 1-16, 1 recommended for web servers
# ARGON2_HASH_LENGTH=32       # 16-64 bytes, 32 recommended

# ============================================================================
# LOGGING CONFIGURATION (REQUIRED)
# ============================================================================
# Environment: local, unit_test, e2e_test, production
LOGGING_ENVIRONMENT=local

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOGGING_LEVEL=DEBUG

# Log format: json, human, colored
LOGGING_FORMAT=colored

# Base directory for logs
LOGGING_LOG_BASE=logs

# Log rotation settings
LOGGING_ROTATION_MAX_SIZE=100MB
LOGGING_ROTATION_BACKUP_COUNT=5

# Enable log compression
LOGGING_COMPRESSION=true

# Disable all logging (for performance testing only)
LOGGING_DISABLE_LOGGING=false

# ============================================================================
# NATS CONFIGURATION
# ============================================================================
NATS_ENABLED=true
NATS_URL=nats://localhost:4222
NATS_MAX_PAYLOAD=1048576
NATS_RECONNECT_TIME_WAIT=1
NATS_MAX_RECONNECT_ATTEMPTS=5
NATS_CONNECT_TIMEOUT=5
NATS_PING_INTERVAL=30
NATS_MAX_OUTSTANDING_PINGS=5

# Connection pooling for high-throughput scenarios
NATS_CONNECTION_POOL_SIZE=5
NATS_ENABLE_CONNECTION_POOLING=true

# TLS/SSL configuration (for production security)
# NATS_TLS_ENABLED=false
# NATS_TLS_CERT_FILE=/path/to/client.crt
# NATS_TLS_KEY_FILE=/path/to/client.key
# NATS_TLS_CA_FILE=/path/to/ca.crt
# NATS_TLS_VERIFY=true

# Message batching for bulk operations
NATS_BATCH_SIZE=100
NATS_BATCH_TIMEOUT=0.1
NATS_ENABLE_MESSAGE_BATCHING=true

# ============================================================================
# GAME CONFIGURATION
# ============================================================================
# Default starting room for new players
GAME_DEFAULT_PLAYER_ROOM=earth_arkhamcity_northside_intersection_derby_high

# Connection limits
GAME_MAX_CONNECTIONS_PER_PLAYER=3

# Rate limiting
GAME_RATE_LIMIT_WINDOW=60
GAME_RATE_LIMIT_MAX_REQUESTS=100

# Command limits
GAME_MAX_COMMAND_LENGTH=1000
GAME_MAX_ALIAS_DEPTH=10
GAME_MAX_ALIAS_LENGTH=500
GAME_MAX_ALIASES_PER_PLAYER=50

# Alias storage directory (REQUIRED)
GAME_ALIASES_DIR=data/local/aliases

# Message of the day file
GAME_MOTD_FILE=data/motd.html

# Game mechanics
GAME_HP_REGEN_RATE=1
GAME_COMBAT_TICK_INTERVAL=6
GAME_GAME_TICK_RATE=1.0
GAME_WEATHER_UPDATE_INTERVAL=300
GAME_SAVE_INTERVAL=60

# Combat damage configuration
GAME_BASIC_UNARMED_DAMAGE=10

# ============================================================================
# CHAT CONFIGURATION
# ============================================================================
# Rate limits (messages per minute)
CHAT_RATE_LIMIT_GLOBAL=10
CHAT_RATE_LIMIT_LOCAL=20
CHAT_RATE_LIMIT_SAY=15
CHAT_RATE_LIMIT_PARTY=30
CHAT_RATE_LIMIT_WHISPER=5

# Content filtering
CHAT_CONTENT_FILTERING_ENABLED=true
CHAT_PROFANITY_FILTER=true
CHAT_KEYWORD_DETECTION=true

# Message history
CHAT_MESSAGE_HISTORY_ENABLED=true
CHAT_MESSAGE_RETENTION_DAYS=30
CHAT_MAX_MESSAGES_PER_CHANNEL=1000

# ============================================================================
# DEFAULT PLAYER STATS
# ============================================================================
DEFAULT_STATS_STRENGTH=10
DEFAULT_STATS_DEXTERITY=10
DEFAULT_STATS_CONSTITUTION=10
DEFAULT_STATS_INTELLIGENCE=10
DEFAULT_STATS_WISDOM=10
DEFAULT_STATS_CHARISMA=10
DEFAULT_STATS_MAX_HEALTH=100
DEFAULT_STATS_MAX_SANITY=100
DEFAULT_STATS_HEALTH=100
DEFAULT_STATS_SANITY=100
DEFAULT_STATS_FEAR=0
DEFAULT_STATS_CORRUPTION=0
DEFAULT_STATS_OCCULT_KNOWLEDGE=0

# ============================================================================
# LEGACY COMPATIBILITY
# ============================================================================
# These are maintained for scripts and external tools
# The main application uses the prefixed variables above

# JWT Secrets (for auth system)
SECRET_KEY=dev-secret-key-change-this-in-production
MYTHOSMUD_JWT_SECRET=dev-jwt-secret-change-this-in-production

# NATS Server Path (for startup scripts)
NATS_SERVER_PATH=C:\Users\YourUsername\AppData\Local\Microsoft\WinGet\Packages\NATSAuthors.NATSServer_Microsoft.Winget.Source_8wekyb3d8bbwe\nats-server-v2.10.25-windows-amd64\nats-server.exe
