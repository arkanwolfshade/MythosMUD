# MythosMUD Production Configuration
# Copy this to .env.production for production deployment
# DO NOT COMMIT .env.production - Use secrets manager in production
# CRITICAL: All security-sensitive values must be provided via environment or secrets manager

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=54731

# ============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# ============================================================================
# Use PostgreSQL in production for better concurrency
# For SQLite: DATABASE_URL=sqlite+aiosqlite:///path/to/production/players.db
DATABASE_URL=postgresql+asyncpg://mythos_user:CHANGE_THIS_PASSWORD@localhost:5432/mythos_prod
DATABASE_NPC_URL=postgresql+asyncpg://mythos_user:CHANGE_THIS_PASSWORD@localhost:5432/mythos_npcs_prod

# ============================================================================
# SECURITY CONFIGURATION (REQUIRED - CHANGE ALL DEFAULTS)
# ============================================================================
# CRITICAL: Use secrets manager for these values in production
# Generate strong password: openssl rand -base64 32
MYTHOSMUD_ADMIN_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD_MIN_12_CHARS

# Invite codes file location
MYTHOSMUD_INVITE_CODES_FILE=/var/lib/mythosmud/invites.json

# ============================================================================
# LOGGING CONFIGURATION (REQUIRED)
# ============================================================================
LOGGING_ENVIRONMENT=production
LOGGING_LEVEL=INFO
LOGGING_FORMAT=json
LOGGING_LOG_BASE=/var/log/mythosmud
LOGGING_ROTATION_MAX_SIZE=100MB
LOGGING_ROTATION_BACKUP_COUNT=10
LOGGING_COMPRESSION=true
LOGGING_DISABLE_LOGGING=false

# ============================================================================
# NATS CONFIGURATION
# ============================================================================
NATS_ENABLED=true
NATS_URL=nats://localhost:4222
NATS_MAX_PAYLOAD=1048576
NATS_RECONNECT_TIME_WAIT=2
NATS_MAX_RECONNECT_ATTEMPTS=10
NATS_CONNECT_TIMEOUT=10
NATS_PING_INTERVAL=30
NATS_MAX_OUTSTANDING_PINGS=5

# ============================================================================
# GAME CONFIGURATION
# ============================================================================
GAME_DEFAULT_PLAYER_ROOM=earth_arkhamcity_northside_intersection_derby_high
GAME_MAX_CONNECTIONS_PER_PLAYER=3
GAME_RATE_LIMIT_WINDOW=60
GAME_RATE_LIMIT_MAX_REQUESTS=100
GAME_MAX_COMMAND_LENGTH=1000
GAME_MAX_ALIAS_DEPTH=10
GAME_MAX_ALIAS_LENGTH=500
GAME_MAX_ALIASES_PER_PLAYER=50
GAME_ALIASES_DIR=/var/lib/mythosmud/aliases
GAME_MOTD_FILE=/var/lib/mythosmud/motd.html
GAME_HP_REGEN_RATE=1
GAME_COMBAT_TICK_INTERVAL=6
GAME_GAME_TICK_RATE=1.0
GAME_WEATHER_UPDATE_INTERVAL=300
GAME_SAVE_INTERVAL=60

# ============================================================================
# CHAT CONFIGURATION
# ============================================================================
CHAT_RATE_LIMIT_GLOBAL=10
CHAT_RATE_LIMIT_LOCAL=20
CHAT_RATE_LIMIT_SAY=15
CHAT_RATE_LIMIT_PARTY=30
CHAT_RATE_LIMIT_WHISPER=5
CHAT_CONTENT_FILTERING_ENABLED=true
CHAT_PROFANITY_FILTER=true
CHAT_KEYWORD_DETECTION=true
CHAT_MESSAGE_HISTORY_ENABLED=true
CHAT_MESSAGE_RETENTION_DAYS=30
CHAT_MAX_MESSAGES_PER_CHANNEL=1000

# ============================================================================
# DEFAULT PLAYER STATS
# ============================================================================
DEFAULT_STATS_STRENGTH=10
DEFAULT_STATS_DEXTERITY=10
DEFAULT_STATS_CONSTITUTION=10
DEFAULT_STATS_INTELLIGENCE=10
DEFAULT_STATS_WISDOM=10
DEFAULT_STATS_CHARISMA=10
DEFAULT_STATS_MAX_HEALTH=100
DEFAULT_STATS_MAX_SANITY=100
DEFAULT_STATS_HEALTH=100
DEFAULT_STATS_SANITY=100
DEFAULT_STATS_FEAR=0
DEFAULT_STATS_CORRUPTION=0
DEFAULT_STATS_OCCULT_KNOWLEDGE=0

# ============================================================================
# LEGACY COMPATIBILITY
# ============================================================================
# CRITICAL: Change these in production
SECRET_KEY=CHANGE_THIS_TO_PRODUCTION_SECRET_KEY
MYTHOSMUD_JWT_SECRET=CHANGE_THIS_TO_PRODUCTION_JWT_SECRET

# ============================================================================
# PRODUCTION NOTES
# ============================================================================
# 1. Use environment variables or secrets manager for all sensitive values
# 2. Never commit .env.production with real secrets
# 3. Validate configuration before deployment: python -c "from server.config import get_config; get_config()"
# 4. Monitor logs for configuration validation errors
# 5. Use HTTPS/TLS in production
# 6. Configure firewall rules for NATS port 4222
# 7. Set up log aggregation (ELK, Datadog, etc.)
# 8. Configure automated backups
# 9. Set up monitoring and alerting
# 10. Review security audit logs regularly
